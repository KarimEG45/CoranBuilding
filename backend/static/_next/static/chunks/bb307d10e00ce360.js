(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,45209,(e,t,s)=>{},91271,(e,t,s)=>{var i=e.i(14343);e.r(45209);var r=e.r(71544),a=r&&"object"==typeof r&&"default"in r?r:{default:r},n=void 0!==i.default&&i.default.env&&!0,o=function(e){return"[object String]"===Object.prototype.toString.call(e)},l=function(){function e(e){var t=void 0===e?{}:e,s=t.name,i=void 0===s?"stylesheet":s,r=t.optimizeForSpeed,a=void 0===r?n:r;u(o(i),"`name` must be a string"),this._name=i,this._deletedRulePlaceholder="#"+i+"-deleted-rule____{}",u("boolean"==typeof a,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=a,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0;var l="u">typeof window&&document.querySelector('meta[property="csp-nonce"]');this._nonce=l?l.getAttribute("content"):null}var t,s=e.prototype;return s.setOptimizeForSpeed=function(e){u("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),u(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},s.isOptimizeForSpeed=function(){return this._optimizeForSpeed},s.inject=function(){var e=this;if(u(!this._injected,"sheet already injected"),this._injected=!0,"u">typeof window&&this._optimizeForSpeed){this._tags[0]=this.makeStyleTag(this._name),this._optimizeForSpeed="insertRule"in this.getSheet(),this._optimizeForSpeed||(n||console.warn("StyleSheet: optimizeForSpeed mode not supported falling back to standard mode."),this.flush(),this._injected=!0);return}this._serverSheet={cssRules:[],insertRule:function(t,s){return"number"==typeof s?e._serverSheet.cssRules[s]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),s},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},s.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},s.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},s.insertRule=function(e,t){if(u(o(e),"`insertRule` accepts only strings"),"u"<typeof window)return"number"!=typeof t&&(t=this._serverSheet.cssRules.length),this._serverSheet.insertRule(e,t),this._rulesCount++;if(this._optimizeForSpeed){var s=this.getSheet();"number"!=typeof t&&(t=s.cssRules.length);try{s.insertRule(e,t)}catch(t){return n||console.warn("StyleSheet: illegal rule: \n\n"+e+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),-1}}else{var i=this._tags[t];this._tags.push(this.makeStyleTag(this._name,e,i))}return this._rulesCount++},s.replaceRule=function(e,t){if(this._optimizeForSpeed||"u"<typeof window){var s="u">typeof window?this.getSheet():this._serverSheet;if(t.trim()||(t=this._deletedRulePlaceholder),!s.cssRules[e])return e;s.deleteRule(e);try{s.insertRule(t,e)}catch(i){n||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),s.insertRule(this._deletedRulePlaceholder,e)}}else{var i=this._tags[e];u(i,"old rule at index `"+e+"` not found"),i.textContent=t}return e},s.deleteRule=function(e){if("u"<typeof window)return void this._serverSheet.deleteRule(e);if(this._optimizeForSpeed)this.replaceRule(e,"");else{var t=this._tags[e];u(t,"rule at index `"+e+"` not found"),t.parentNode.removeChild(t),this._tags[e]=null}},s.flush=function(){this._injected=!1,this._rulesCount=0,"u">typeof window?(this._tags.forEach(function(e){return e&&e.parentNode.removeChild(e)}),this._tags=[]):this._serverSheet.cssRules=[]},s.cssRules=function(){var e=this;return"u"<typeof window?this._serverSheet.cssRules:this._tags.reduce(function(t,s){return s?t=t.concat(Array.prototype.map.call(e.getSheetForTag(s).cssRules,function(t){return t.cssText===e._deletedRulePlaceholder?null:t})):t.push(null),t},[])},s.makeStyleTag=function(e,t,s){t&&u(o(t),"makeStyleTag accepts only strings as second parameter");var i=document.createElement("style");this._nonce&&i.setAttribute("nonce",this._nonce),i.type="text/css",i.setAttribute("data-"+e,""),t&&i.appendChild(document.createTextNode(t));var r=document.head||document.getElementsByTagName("head")[0];return s?r.insertBefore(i,s):r.appendChild(i),i},t=[{key:"length",get:function(){return this._rulesCount}}],function(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(e.prototype,t),e}();function u(e,t){if(!e)throw Error("StyleSheet: "+t+".")}var d=function(e){for(var t=5381,s=e.length;s;)t=33*t^e.charCodeAt(--s);return t>>>0},h={};function c(e,t){if(!t)return"jsx-"+e;var s=String(t),i=e+s;return h[i]||(h[i]="jsx-"+d(e+"-"+s)),h[i]}function m(e,t){"u"<typeof window&&(t=t.replace(/\/style/gi,"\\/style"));var s=e+t;return h[s]||(h[s]=t.replace(/__jsx-style-dynamic-selector/g,e)),h[s]}var p=function(){function e(e){var t=void 0===e?{}:e,s=t.styleSheet,i=void 0===s?null:s,r=t.optimizeForSpeed,a=void 0!==r&&r;this._sheet=i||new l({name:"styled-jsx",optimizeForSpeed:a}),this._sheet.inject(),i&&"boolean"==typeof a&&(this._sheet.setOptimizeForSpeed(a),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer=void 0,this._indices={},this._instancesCounts={}}var t=e.prototype;return t.add=function(e){var t=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(e.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),"u">typeof window&&!this._fromServer&&(this._fromServer=this.selectFromServer(),this._instancesCounts=Object.keys(this._fromServer).reduce(function(e,t){return e[t]=0,e},{}));var s=this.getIdAndRules(e),i=s.styleId,r=s.rules;if(i in this._instancesCounts){this._instancesCounts[i]+=1;return}var a=r.map(function(e){return t._sheet.insertRule(e)}).filter(function(e){return -1!==e});this._indices[i]=a,this._instancesCounts[i]=1},t.remove=function(e){var t=this,s=this.getIdAndRules(e).styleId;if(function(e,t){if(!e)throw Error("StyleSheetRegistry: "+t+".")}(s in this._instancesCounts,"styleId: `"+s+"` not found"),this._instancesCounts[s]-=1,this._instancesCounts[s]<1){var i=this._fromServer&&this._fromServer[s];i?(i.parentNode.removeChild(i),delete this._fromServer[s]):(this._indices[s].forEach(function(e){return t._sheet.deleteRule(e)}),delete this._indices[s]),delete this._instancesCounts[s]}},t.update=function(e,t){this.add(t),this.remove(e)},t.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},t.cssRules=function(){var e=this,t=this._fromServer?Object.keys(this._fromServer).map(function(t){return[t,e._fromServer[t]]}):[],s=this._sheet.cssRules();return t.concat(Object.keys(this._indices).map(function(t){return[t,e._indices[t].map(function(e){return s[e].cssText}).join(e._optimizeForSpeed?"":"\n")]}).filter(function(e){return!!e[1]}))},t.styles=function(e){var t,s;return t=this.cssRules(),void 0===(s=e)&&(s={}),t.map(function(e){var t=e[0],i=e[1];return a.default.createElement("style",{id:"__"+t,key:"__"+t,nonce:s.nonce?s.nonce:void 0,dangerouslySetInnerHTML:{__html:i}})})},t.getIdAndRules=function(e){var t=e.children,s=e.dynamic,i=e.id;if(s){var r=c(i,s);return{styleId:r,rules:Array.isArray(t)?t.map(function(e){return m(r,e)}):[m(r,t)]}}return{styleId:c(i),rules:Array.isArray(t)?t:[t]}},t.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce(function(e,t){return e[t.id.slice(2)]=t,e},{})},e}(),f=r.createContext(null);function g(){return new p}function x(){return r.useContext(f)}f.displayName="StyleSheetContext";var y=a.default.useInsertionEffect||a.default.useLayoutEffect,v="u">typeof window?g():void 0;function b(e){var t=v||x();return t&&("u"<typeof window?t.add(e):y(function(){return t.add(e),function(){t.remove(e)}},[e.id,String(e.dynamic)])),null}b.dynamic=function(e){return e.map(function(e){return c(e[0],e[1])}).join(" ")},s.StyleRegistry=function(e){var t=e.registry,s=e.children,i=r.useContext(f),n=r.useState(function(){return i||t||g()})[0];return a.default.createElement(f.Provider,{value:n},s)},s.createStyleRegistry=g,s.style=b,s.useStyleRegistry=x},42194,(e,t,s)=>{t.exports=e.r(91271).style},78381,e=>{"use strict";let t,s,i,r;var a,n=e.i(20478),o=e.i(71544);let l=(...e)=>e.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim(),u=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)};var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let h=(0,o.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:i,className:r="",children:a,iconNode:n,...u},h)=>(0,o.createElement)("svg",{ref:h,...d,width:t,height:t,stroke:e,strokeWidth:i?24*Number(s)/Number(t):s,className:l("lucide",r),...!a&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0;return!1})(u)&&{"aria-hidden":"true"},...u},[...n.map(([e,t])=>(0,o.createElement)(e,t)),...Array.isArray(a)?a:[a]])),c=(e,t)=>{let s=(0,o.forwardRef)(({className:s,...i},r)=>(0,o.createElement)(h,{ref:r,iconNode:t,className:l(`lucide-${u(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,s),...i}));return s.displayName=u(e),s},m=c("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),p=c("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),f=c("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]),g=c("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),x=c("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]),y=c("flame",[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]]),v=c("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]),b=c("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),w=c("quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]),j=c("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),k=c("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),S=[{ar:"خَيْرُكُمْ مَنْ تَعَلَّمَ الْقُرْآنَ وَعَلَّمَهُ",fr:"Le meilleur d'entre vous est celui qui apprend le Coran et l'enseigne.",src:"Hadith - Al-Bukhari"},{ar:"مَنْ قَرَأَ حَرْفًا مِنْ كِتَابِ اللَّهِ فَلَهُ بِهِ حَسَنَةٌ وَالْحَسَنَةُ بِعَشْرِ أَمْثَالِهَا",fr:"Celui qui récite une lettre du Livre d'Allah obtient une bonne action, et la bonne action est multipliée par dix.",src:"Hadith - At-Tirmidhi"},{ar:"يُقَالُ لِصَاحِبِ الْقُرْآنِ اقْرَأْ وَارْتَقِ وَرَتِّلْ كَمَا كُنْتَ تُرَتِّلُ فِي الدُّنْيَا فَإِنَّ مَنْزِلَتَكَ عِنْدَ آخِرِ آيَةٍ تَقْرَأُ بِهَا",fr:"Il sera dit au compagnon du Coran : Lis et monte, et récite comme tu récitais dans le bas-monde, car ta demeure sera au dernier verset que tu réciteras.",src:"Hadith - Abu Dawood"},{ar:"وَلَقَدْ يَسَّرْنَا الْقُرْآنَ لِلذِّكْرِ فَهَلْ مِن مُّدَّكِرٍ",fr:"En effet, Nous avons rendu le Coran facile pour la méditation. Y a-t-il quelqu'un pour réfléchir ?",src:"Sourate Al-Qamar - Verset 17"},{ar:"لَا حَسَدَ إِلاَّ فِي اثْنَتَيْنِ رَجُلٌ آتَاهُ اللَّهُ الْقُرْآنَ فَهُوَ يَتْلُوهُ آنَاءَ اللَّيْلِ وَآنَاءَ النَّهَارِ",fr:"Il n'y a d'envie permise que dans deux cas : un homme à qui Allah a donné le Coran et qui le récite nuit et jour...",src:"Hadith - Muslim"},{ar:"الْمَاهِرُ بِالْقُرْآنِ مَعَ السَّفَرَةِ الْكِرَامِ الْبَرَرَةِ",fr:"Celui qui excelle dans la récitation du Coran sera avec les nobles anges messagers obéissants.",src:"Hadith - Muslim"},{ar:"إِنَّ اللَّهَ يَرْفَعُ بِهَذَا الْكِتَابِ أَقْوَامًا وَيَضَعُ بِهِ آخَرِينَ",fr:"Certes, Allah élève par ce Livre des peuples et en abaisse d'autres.",src:"Hadith - Muslim"}];function P({isOpen:e,onClose:t}){let[s,i]=(0,o.useState)(0);if((0,o.useEffect)(()=>{e&&i(Math.floor(Math.random()*S.length))},[e]),!e)return null;let r=S[s];return(0,n.jsxs)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 sm:p-6",role:"dialog","aria-modal":"true",children:[(0,n.jsx)("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm transition-opacity",onClick:t}),(0,n.jsxs)("div",{className:"relative bg-white rounded-3xl shadow-2xl w-full max-w-lg p-8 animate-in fade-in zoom-in-95 duration-200",children:[(0,n.jsx)("button",{onClick:t,className:"absolute top-4 right-4 p-2 text-slate-400 hover:bg-slate-50 rounded-full transition-colors",children:(0,n.jsx)(j,{size:20})}),(0,n.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,n.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-amber-100 to-orange-50 rounded-2xl flex items-center justify-center text-amber-500 mb-6 shadow-sm border border-amber-100 transform -rotate-3",children:(0,n.jsx)(w,{size:32,className:"fill-current"})}),(0,n.jsx)("h3",{className:"text-xl font-bold font-display text-slate-800 mb-1",children:"Inspiration du Jour"}),(0,n.jsx)("p",{className:"text-sm text-slate-400 mb-8",children:"Une dose de motivation pour votre mémorisation"}),(0,n.jsxs)("div",{className:"mb-8 w-full",children:[(0,n.jsx)("p",{className:"text-2xl font-serif text-slate-800 mb-4 leading-relaxed dir-rtl",style:{direction:"rtl",fontFamily:"Traditional Arabic, sans-serif"},children:r.ar}),(0,n.jsx)("div",{className:"h-px w-24 bg-slate-100 mx-auto mb-4"}),(0,n.jsxs)("p",{className:"text-slate-600 italic leading-relaxed text-lg",children:['"',r.fr,'"']}),(0,n.jsx)("p",{className:"text-xs font-bold text-sky-600 mt-4 uppercase tracking-wider bg-sky-50 py-1 px-3 rounded-full inline-block",children:r.src})]}),(0,n.jsx)("div",{className:"flex gap-3 w-full",children:(0,n.jsxs)("button",{onClick:()=>{i(e=>(e+1)%S.length)},className:"flex-1 py-3 px-4 bg-slate-800 text-white rounded-xl font-bold hover:bg-slate-700 transition-colors flex items-center justify-center gap-2 group",children:[(0,n.jsx)(k,{size:18,className:"group-hover:rotate-180 transition-transform duration-500"}),"Nouvelle Inspiration"]})})]})]})]})}let A=c("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),N=c("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),T=c("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),C=c("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),M=c("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);function E({isOpen:e,onClose:t}){let[s,i]=(0,o.useState)("profiles"),[r,a]=(0,o.useState)([]),[l,u]=(0,o.useState)(!1),[d,h]=(0,o.useState)(""),[c,m]=(0,o.useState)(""),[p,f]=(0,o.useState)(null),[g,x]=(0,o.useState)(null);(0,o.useEffect)(()=>{e&&y()},[e]);let y=async()=>{try{let e=await fetch("http://localhost:8001/api/v1/users/all");if(e.ok){let t=await e.json();a(t)}}catch(e){console.error("Error fetching users:",e)}},v=async e=>{e.preventDefault(),f(null),x(null),u(!0);try{let e=await fetch("http://localhost:8001/api/v1/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:d,password:c})});if(e.ok)x(`Utilisateur "${d}" cr\xe9\xe9 avec succ\xe8s !`),h(""),m(""),y();else{let t=await e.json();f(t.detail||"Erreur lors de la création.")}}catch(e){f("Erreur de connexion au serveur.")}finally{u(!1)}},b=async(e,t)=>{if(confirm(`Voulez-vous vraiment supprimer l'utilisateur "${t}" ? Cette action est irr\xe9versible.`))try{let s=await fetch(`http://localhost:8001/api/v1/users/admin/${e}`,{method:"DELETE"});if(s.ok)y(),x(`Utilisateur "${t}" supprim\xe9.`),setTimeout(()=>x(null),3e3);else{let e=await s.json();f(e.detail||"Erreur lors de la suppression.")}}catch(e){f("Erreur serveur lors de la suppression.")}},w=async()=>{if(confirm("ATTENTION : Cela effacera TOUTE votre progression actuelle. Êtes-vous sûr ?"))try{let e=sessionStorage.getItem("access_token");if(!e)return;(await fetch("http://localhost:8001/api/v1/users/me",{method:"DELETE",headers:{Authorization:`Bearer ${e}`}})).ok?(sessionStorage.removeItem("access_token"),window.location.reload()):alert("Erreur lors de la réinitialisation.")}catch(e){alert("Erreur serveur.")}};return e?(0,n.jsxs)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 sm:p-6",role:"dialog","aria-modal":"true",children:[(0,n.jsx)("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm transition-opacity",onClick:t}),(0,n.jsxs)("div",{className:"relative bg-white rounded-3xl shadow-2xl w-full max-w-2xl overflow-hidden flex flex-col max-h-[90vh] animate-in fade-in zoom-in-95 duration-200",children:[(0,n.jsxs)("div",{className:"flex bg-slate-50 border-b border-slate-100",children:[(0,n.jsxs)("button",{onClick:()=>i("profiles"),className:`flex-1 py-4 text-sm font-bold flex items-center justify-center gap-2 ${"profiles"===s?"text-sky-600 bg-white shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:[(0,n.jsx)(N,{size:18}),"Comptes"]}),(0,n.jsxs)("button",{onClick:()=>i("danger"),className:`flex-1 py-4 text-sm font-bold flex items-center justify-center gap-2 ${"danger"===s?"text-red-600 bg-white shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:[(0,n.jsx)(M,{size:18}),"Zone Danger"]}),(0,n.jsx)("button",{onClick:t,className:"w-16 flex items-center justify-center text-slate-400 hover:bg-slate-100 transition-colors border-l border-slate-100",children:(0,n.jsx)(j,{size:20})})]}),(0,n.jsxs)("div",{className:"p-8 overflow-y-auto",children:["profiles"===s&&(0,n.jsxs)("div",{className:"space-y-8",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("h3",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center gap-2",children:[(0,n.jsx)(A,{size:20,className:"text-sky-500"}),"Créer un nouveau profil"]}),(0,n.jsxs)("form",{onSubmit:v,className:"bg-slate-50 p-6 rounded-2xl border border-slate-100 space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-1",children:"Nom d'utilisateur"}),(0,n.jsx)("input",{type:"text",required:!0,value:d,onChange:e=>h(e.target.value),className:"w-full p-2 rounded-lg border-slate-200 focus:ring-sky-500 focus:border-sky-500 text-sm",placeholder:"Ex: Hafiz2024"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-1",children:"Mot de passe"}),(0,n.jsx)("input",{type:"password",required:!0,value:c,onChange:e=>m(e.target.value),className:"w-full p-2 rounded-lg border-slate-200 focus:ring-sky-500 focus:border-sky-500 text-sm",placeholder:"••••••••"})]}),p&&(0,n.jsx)("p",{className:"text-red-500 text-xs font-bold",children:p}),g&&(0,n.jsxs)("p",{className:"text-emerald-500 text-xs font-bold flex items-center gap-1",children:[(0,n.jsx)(C,{size:12})," ",g]}),(0,n.jsx)("button",{type:"submit",disabled:l,className:"w-full py-2 bg-sky-600 hover:bg-sky-700 text-white font-bold rounded-xl shadow-lg shadow-sky-500/20 transition-all active:scale-95 disabled:opacity-50",children:l?"Création...":"Créer le compte"})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("h3",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center gap-2",children:[(0,n.jsx)(N,{size:20,className:"text-slate-500"}),"Utilisateurs existants"]}),(0,n.jsx)("div",{className:"grid gap-2 max-h-40 overflow-y-auto",children:0===r.length?(0,n.jsx)("p",{className:"text-slate-400 text-sm italic",children:"Aucun utilisateur trouvé."}):r.map(e=>(0,n.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white border border-slate-100 rounded-xl shadow-sm",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)("div",{className:"w-8 h-8 bg-slate-100 rounded-full flex items-center justify-center text-slate-500 font-bold text-xs",children:e.username.charAt(0).toUpperCase()}),(0,n.jsx)("span",{className:"font-medium text-slate-700",children:e.username})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsxs)("span",{className:"text-xs text-slate-400",children:["ID: ",e.id]}),(0,n.jsx)("button",{onClick:()=>b(e.id,e.username),className:"p-1.5 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"Supprimer l'utilisateur",children:(0,n.jsx)(T,{size:16})})]})]},e.id))})]})]}),"danger"===s&&(0,n.jsx)("div",{className:"space-y-6",children:(0,n.jsxs)("div",{className:"p-6 bg-red-50 rounded-2xl border border-red-100",children:[(0,n.jsxs)("h3",{className:"text-red-700 font-bold text-lg mb-2 flex items-center gap-2",children:[(0,n.jsx)(M,{size:20}),"Réinitialiser la progression"]}),(0,n.jsx)("p",{className:"text-red-600/80 text-sm mb-6 leading-relaxed",children:"Cette action est irréversible. Elle va supprimer votre compte actuel ainsi que toutes les données de mémorisation associées (pages validées, enregistrements audio, objectifs)."}),(0,n.jsxs)("button",{onClick:w,className:"w-full py-3 bg-red-600 hover:bg-red-700 text-white font-bold rounded-xl shadow-lg shadow-red-500/20 transition-all active:scale-95 flex items-center justify-center gap-2",children:[(0,n.jsx)(T,{size:18}),"Tout supprimer et recommencer"]})]})})]})]})]}):null}function R({children:e,stats:t={mastered:0,total:604,percentage:0,streak:0},user:s,onShare:i,progress:r={}}){let[a,l]=(0,o.useState)(!1),[u,d]=(0,o.useState)(!1),h=Object.entries(r).filter(([,e])=>"locked"!==e).map(([e])=>parseInt(e)).reduce((e,t)=>Math.max(e,t),0),c=h>0?h>=601?31:h<=20?1:Math.ceil(h/20):null;(0,o.useEffect)(()=>{let e=()=>{fetch("http://localhost:8001/api/v1/system/heartbeat",{method:"POST"}).catch(()=>{})};e();let t=setInterval(e,3e4);return()=>clearInterval(t)},[]);let w=301.59-t.percentage/100*301.59;return(0,n.jsxs)("div",{className:"flex h-screen bg-slate-50 overflow-hidden font-display",children:[(0,n.jsxs)("aside",{className:"w-80 flex-shrink-0 bg-white border-r border-slate-200 flex flex-col z-20 shadow-xl",children:[(0,n.jsxs)("div",{className:"p-8 text-center border-b border-slate-100",children:[(0,n.jsxs)("div",{className:"relative inline-block mb-4",children:[(0,n.jsx)("div",{className:"w-24 h-24 rounded-full border-4 border-sky-100 p-1",children:(0,n.jsx)("img",{alt:"Profile",className:"w-full h-full rounded-full object-cover",src:"https://lh3.googleusercontent.com/aida-public/AB6AXuDNb_1L2ZGq52ytL5dMNsAoAJqsuoQzh6cTzKzxuG9hhvw-PKPSJVNiM-5KCTKNRmmX9B60KkDF4Ygwhqttsb7a5Y7gNifEEL3pFFnOcMmshAfm3FJ5YFqxsdguTmYGipicF3wa-zelWXT3fXQq1V-nwVqFwqeuk9PxWZBP_C6oZ_aGdKuuAEJNUQDEkVFL4rrHib0iXWQOWRO2kT4EXeGgWMrNvaVB-HAtfFhCIJfjbCzhlgNflgW3ZPzD-NoMUuA8PdzQOhIAK-0i"})}),(0,n.jsx)("span",{className:"absolute bottom-1 right-1 bg-emerald-500 w-5 h-5 rounded-full border-2 border-white"})]}),(0,n.jsx)("h2",{className:"text-xl font-bold tracking-tight text-slate-800",children:s?s.username:"Invité"}),(0,n.jsx)("p",{className:"text-slate-500 text-sm mt-1",children:"Étudiant"})]}),(0,n.jsx)("div",{className:"px-8 py-6 border-b border-slate-100",children:(0,n.jsxs)("div",{className:"bg-slate-50 rounded-2xl p-6 relative overflow-hidden group border border-slate-100",children:[(0,n.jsx)("div",{className:"absolute top-0 right-0 p-2 opacity-5 group-hover:rotate-12 transition-transform",children:(0,n.jsx)(m,{size:48,className:"text-sky-600"})}),(0,n.jsxs)("div",{className:"relative flex flex-col items-center",children:[(0,n.jsxs)("div",{className:"relative flex items-center justify-center mb-2",children:[(0,n.jsxs)("svg",{className:"w-28 h-28 transform -rotate-90",children:[(0,n.jsx)("circle",{className:"text-slate-200",cx:"56",cy:"56",fill:"transparent",r:"48",stroke:"currentColor",strokeWidth:"8"}),(0,n.jsx)("circle",{className:"text-sky-500 transition-all duration-1000 ease-out",cx:"56",cy:"56",fill:"transparent",r:"48",stroke:"currentColor",strokeDasharray:301.59,strokeDashoffset:w,strokeWidth:"8",strokeLinecap:"round"})]}),(0,n.jsxs)("span",{className:"absolute text-xl font-bold text-sky-600",children:[t.percentage.toFixed(1),"%"]})]}),(0,n.jsx)("p",{className:"text-xs uppercase tracking-widest font-semibold text-slate-400",children:"Progression Globale"})]})]})}),(0,n.jsxs)("nav",{className:"flex-1 px-4 py-6 space-y-1 overflow-y-auto scrollbar-hide",children:[(0,n.jsxs)("a",{href:"#",className:"flex items-center gap-3 px-4 py-3 bg-sky-600 text-white rounded-xl shadow-lg shadow-sky-600/20",children:[(0,n.jsx)(f,{size:20}),(0,n.jsx)("span",{className:"font-medium",children:"Immeuble (Tableau de bord)"})]}),(0,n.jsxs)("button",{onClick:()=>l(!0),className:"w-full flex items-center gap-3 px-4 py-3 text-slate-600 hover:bg-slate-50 hover:text-sky-600 rounded-xl transition-colors text-left",children:[(0,n.jsx)(v,{size:20,className:"text-amber-500"}),(0,n.jsx)("span",{className:"font-medium",children:"Inspirations"})]}),(0,n.jsxs)("button",{onClick:()=>d(!0),className:"w-full flex items-center gap-3 px-4 py-3 text-slate-600 hover:bg-slate-50 hover:text-sky-600 rounded-xl transition-colors text-left",children:[(0,n.jsx)(p,{size:20}),(0,n.jsx)("span",{className:"font-medium",children:"Paramètres"})]})]}),(0,n.jsx)("div",{className:"p-6 border-t border-slate-100",children:(0,n.jsxs)("button",{onClick:()=>{sessionStorage.removeItem("access_token"),window.location.reload()},className:"w-full flex items-center justify-center gap-2 py-3 text-slate-500 hover:text-slate-800 hover:bg-slate-50 rounded-xl transition-colors",children:[(0,n.jsx)(g,{size:18}),(0,n.jsx)("span",{className:"font-medium",children:"Déconnexion"})]})})]}),(0,n.jsxs)("main",{className:"flex-1 flex flex-col relative overflow-hidden bg-day-sky",children:[(0,n.jsx)("div",{className:"absolute top-20 left-20 w-32 h-12 bg-white/20 rounded-full blur-xl pointer-events-none"}),(0,n.jsx)("div",{className:"absolute top-40 right-40 w-48 h-16 bg-white/30 rounded-full blur-xl pointer-events-none"}),(0,n.jsx)("div",{className:"absolute bottom-20 left-1/3 w-64 h-24 bg-white/10 rounded-full blur-2xl pointer-events-none"}),(0,n.jsxs)("header",{className:"h-20 bg-white/90 backdrop-blur-md border-b border-white/20 flex items-center justify-between px-8 z-30 shadow-sm flex-shrink-0",children:[(0,n.jsxs)("div",{className:"flex items-center gap-8",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)("div",{className:"w-10 h-10 rounded-lg bg-blue-50 flex items-center justify-center text-sky-600",children:(0,n.jsx)(f,{size:24})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-xs text-slate-400 font-semibold uppercase",children:"Pages Maîtrisées"}),(0,n.jsxs)("p",{className:"font-bold text-lg text-slate-800",children:[t.mastered," / ",(0,n.jsx)("span",{className:"text-slate-400 font-normal text-sm",children:t.total})]})]})]}),(0,n.jsx)("div",{className:"h-8 w-px bg-slate-200"}),(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)("div",{className:"w-10 h-10 rounded-lg bg-orange-50 text-orange-500 flex items-center justify-center",children:(0,n.jsx)(y,{size:24})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-xs text-slate-400 font-semibold uppercase",children:"Série Actuelle"}),(0,n.jsxs)("p",{className:"font-bold text-lg text-slate-800",children:[t.streak," Jours"]})]})]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 bg-white rounded-full border border-slate-200 shadow-sm",children:[(0,n.jsx)("span",{className:"w-3 h-3 rounded-full bg-emerald-500 shadow-[0_0_8px_rgba(16,185,129,0.5)]"}),(0,n.jsx)("span",{className:"text-xs font-bold text-slate-600 mr-2",children:"Maîtrisé"}),(0,n.jsx)("span",{className:"w-3 h-3 rounded-full bg-amber-500 shadow-[0_0_8px_rgba(245,158,11,0.5)]"}),(0,n.jsx)("span",{className:"text-xs font-bold text-slate-600 mr-2",children:"À Réviser"}),(0,n.jsx)("span",{className:"w-3 h-3 rounded-full bg-slate-700 shadow-[0_0_8px_rgba(51,65,85,0.5)]"}),(0,n.jsx)("span",{className:"text-xs font-bold text-slate-600",children:"Non Débuté"})]}),i&&(0,n.jsxs)("button",{onClick:i,className:"flex items-center gap-2 border border-sky-200 text-sky-600 px-5 py-2.5 rounded-full font-semibold hover:bg-sky-50 transition-all hover:-translate-y-0.5 active:scale-95",children:[(0,n.jsx)(b,{size:16}),"Partager"]}),c&&(0,n.jsxs)("button",{onClick:()=>{if(!c)return;let e=document.getElementById(`juz-section-${c}`);e?.scrollIntoView({behavior:"smooth",block:"center"})},className:"bg-sky-600 hover:bg-sky-700 text-white px-6 py-2 rounded-full font-semibold shadow-lg shadow-sky-500/30 transition-all hover:-translate-y-0.5 active:scale-95 flex items-center gap-2",children:[(0,n.jsx)(x,{size:16,className:"fill-white"}),(0,n.jsxs)("span",{className:"flex flex-col items-start leading-tight",children:[(0,n.jsx)("span",{className:"text-sm font-bold",children:"Reprendre"}),(0,n.jsxs)("span",{className:"text-[10px] font-medium opacity-75",children:["Juz' ",c>30?"30+":c]})]})]})]})]}),(0,n.jsx)("div",{id:"building-scroll-container",className:"flex-1 overflow-y-auto relative scroll-smooth",children:e}),(0,n.jsx)(P,{isOpen:a,onClose:()=>l(!1)}),(0,n.jsx)(E,{isOpen:u,onClose:()=>d(!1)})]})]})}let V=function(){for(var e,t,s=0,i="",r=arguments.length;s<r;s++)(e=arguments[s])&&(t=function e(t){var s,i,r="";if("string"==typeof t||"number"==typeof t)r+=t;else if("object"==typeof t)if(Array.isArray(t)){var a=t.length;for(s=0;s<a;s++)t[s]&&(i=e(t[s]))&&(r&&(r+=" "),r+=i)}else for(i in t)t[i]&&(r&&(r+=" "),r+=i);return r}(e))&&(i&&(i+=" "),i+=t);return i},D=c("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),z=[{number:1,name:"Al-Fariha",startPage:1},{number:2,name:"Al-Baqara",startPage:2},{number:3,name:"Ali 'Imran",startPage:50},{number:4,name:"An-Nisa",startPage:77},{number:5,name:"Al-Ma'idah",startPage:106},{number:6,name:"Al-An'am",startPage:128},{number:7,name:"Al-A'raf",startPage:151},{number:8,name:"Al-Anfal",startPage:177},{number:9,name:"At-Tawbah",startPage:187},{number:10,name:"Yunus",startPage:208},{number:11,name:"Hud",startPage:221},{number:12,name:"Yusuf",startPage:235},{number:13,name:"Ar-Ra'd",startPage:249},{number:14,name:"Ibrahim",startPage:255},{number:15,name:"Al-Hijr",startPage:262},{number:16,name:"An-Nahl",startPage:267},{number:17,name:"Al-Isra",startPage:282},{number:18,name:"Al-Kahf",startPage:293},{number:19,name:"Maryam",startPage:305},{number:20,name:"Ta-Ha",startPage:312},{number:21,name:"Al-Anbiya",startPage:322},{number:22,name:"Al-Hajj",startPage:332},{number:23,name:"Al-Mu'minun",startPage:341},{number:24,name:"An-Nur",startPage:350},{number:25,name:"Al-Furqan",startPage:359},{number:26,name:"Ash-Shu'ara",startPage:367},{number:27,name:"An-Naml",startPage:377},{number:28,name:"Al-Qasas",startPage:385},{number:29,name:"Al-Ankabut",startPage:396},{number:30,name:"Ar-Rum",startPage:404},{number:31,name:"Luqman",startPage:411},{number:32,name:"As-Sajdah",startPage:415},{number:33,name:"Al-Ahzab",startPage:418},{number:34,name:"Saba",startPage:428},{number:35,name:"Fatir",startPage:434},{number:36,name:"Ya-Sin",startPage:440},{number:37,name:"As-Saffat",startPage:446},{number:38,name:"Sad",startPage:453},{number:39,name:"Az-Zumar",startPage:458},{number:40,name:"Ghafir",startPage:467},{number:41,name:"Fussilat",startPage:477},{number:42,name:"Ash-Shura",startPage:483},{number:43,name:"Az-Zukhruf",startPage:489},{number:44,name:"Ad-Dukhan",startPage:496},{number:45,name:"Al-Jathiyah",startPage:499},{number:46,name:"Al-Ahqaf",startPage:502},{number:47,name:"Muhammad",startPage:507},{number:48,name:"Al-Fath",startPage:511},{number:49,name:"Al-Hujurat",startPage:515},{number:50,name:"Qaf",startPage:518},{number:51,name:"Adh-Dhariyat",startPage:520},{number:52,name:"At-Tur",startPage:523},{number:53,name:"An-Najm",startPage:526},{number:54,name:"Al-Qamar",startPage:528},{number:55,name:"Ar-Rahman",startPage:531},{number:56,name:"Al-Waqi'ah",startPage:534},{number:57,name:"Al-Hadid",startPage:537},{number:58,name:"Al-Mujadila",startPage:542},{number:59,name:"Al-Hashr",startPage:545},{number:60,name:"Al-Mumtahanah",startPage:549},{number:61,name:"As-Saff",startPage:551},{number:62,name:"Al-Jumu'ah",startPage:553},{number:63,name:"Al-Munafiqun",startPage:554},{number:64,name:"At-Taghabun",startPage:556},{number:65,name:"At-Talaq",startPage:558},{number:66,name:"At-Tahrim",startPage:560},{number:67,name:"Al-Mulk",startPage:562},{number:68,name:"Al-Qalam",startPage:564},{number:69,name:"Al-Haqqah",startPage:566},{number:70,name:"Al-Ma'arij",startPage:568},{number:71,name:"Nuh",startPage:570},{number:72,name:"Al-Jinn",startPage:572},{number:73,name:"Al-Muzzammil",startPage:573},{number:74,name:"Al-Muddaththir",startPage:575},{number:75,name:"Al-Qiyamah",startPage:577},{number:76,name:"Al-Insan",startPage:578},{number:77,name:"Al-Mursalat",startPage:580},{number:78,name:"An-Naba",startPage:582},{number:79,name:"An-Nazi'at",startPage:583},{number:80,name:"Abasa",startPage:585},{number:81,name:"At-Takwir",startPage:586},{number:82,name:"Al-Infitar",startPage:587},{number:83,name:"Al-Mutaffifin",startPage:587},{number:84,name:"Al-Inshiqaq",startPage:589},{number:85,name:"Al-Buruj",startPage:590},{number:86,name:"At-Tariq",startPage:591},{number:87,name:"Al-A'la",startPage:591},{number:88,name:"Al-Ghashiyah",startPage:592},{number:89,name:"Al-Fajr",startPage:593},{number:90,name:"Al-Balad",startPage:594},{number:91,name:"Ash-Shams",startPage:595},{number:92,name:"Al-Layl",startPage:595},{number:93,name:"Ad-Duha",startPage:596},{number:94,name:"Ash-Sharh",startPage:596},{number:95,name:"At-Tin",startPage:597},{number:96,name:"Al-Alaq",startPage:597},{number:97,name:"Al-Qadr",startPage:598},{number:98,name:"Al-Bayyinah",startPage:598},{number:99,name:"Az-Zalzalah",startPage:599},{number:100,name:"Al-Adiyat",startPage:599},{number:101,name:"Al-Qari'ah",startPage:600},{number:102,name:"At-Takathur",startPage:600},{number:103,name:"Al-Asr",startPage:601},{number:104,name:"Al-Humazah",startPage:601},{number:105,name:"Al-Fil",startPage:601},{number:106,name:"Quraysh",startPage:602},{number:107,name:"Al-Ma'un",startPage:602},{number:108,name:"Al-Kawthar",startPage:602},{number:109,name:"Al-Kafirun",startPage:603},{number:110,name:"An-Nasr",startPage:603},{number:111,name:"Al-Masad",startPage:603},{number:112,name:"Al-Ikhlas",startPage:604},{number:113,name:"Al-Falaq",startPage:604},{number:114,name:"An-Nas",startPage:604}];function F(e){if(e<1||e>604)return"Hors Quran";let t=[...z].reverse().find(t=>t.startPage<=e);return t?`Sourate ${t.name}`:"Sourate Inconnue"}let L=({pageNumber:e,status:t,onClick:s,size:i="normal"})=>(0,n.jsxs)("div",{className:V("relative group/apt transition-all","large"===i?"h-20 w-24 text-xl":"h-14 w-16 text-xs"),children:[(0,n.jsx)("div",{onClick:()=>s(e),className:V("w-full h-full rounded-sm border window-glass flex items-center justify-center font-bold transition-all duration-200 transform",(()=>{switch(t){case"mastered":return"bg-emerald-500 border-emerald-600/30 text-white shadow-md";case"revise":return"bg-amber-500 border-amber-600/30 text-white shadow-md animate-pulse";case"started":return"bg-blue-200 border-blue-300 text-slate-700 shadow-sm";default:return"bg-slate-700 border-slate-600 text-white/30 shadow-inner opacity-80"}})(),"cursor-pointer hover:scale-110 hover:z-20 hover:shadow-xl hover:border-white/50"),children:e}),(0,n.jsxs)("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-3 w-48 bg-slate-800 text-white p-3 rounded-lg text-xs pointer-events-none opacity-0 group-hover/apt:opacity-100 transition-all z-50 shadow-xl",children:[(0,n.jsxs)("div",{className:"font-bold border-b border-white/20 pb-1 mb-1 text-sky-300",children:["Page ",e]}),(0,n.jsx)("div",{className:"opacity-90 mb-2",children:F(e)}),(0,n.jsxs)("div",{className:V("flex items-center gap-1 font-bold","mastered"===t?"text-emerald-400":"revise"===t?"text-amber-400":"started"===t?"text-blue-300":"text-slate-400"),children:["mastered"===t&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(C,{size:14})," Maîtrisé"]}),"revise"===t&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(M,{size:14})," À Réviser"]}),"started"===t&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(f,{size:14})," En Cours"]}),"locked"===t&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(D,{size:14})," Non débuté"]})]}),(0,n.jsx)("div",{className:"absolute top-full left-1/2 -translate-x-1/2 border-8 border-transparent border-t-slate-800"})]})]}),I=({juzNumber:e,startPage:t,endPage:s,progress:i,onPageClick:r,isTopLevel:a})=>{let o=Array.from({length:s-t+1},(e,s)=>t+s).reverse();return(0,n.jsxs)("div",{id:`juz-section-${e}`,className:`group flex relative mx-auto ${a?"bg-slate-50 border-b border-slate-200":"bg-white border-b border-slate-200"}`,children:[(0,n.jsx)("div",{className:"absolute -left-28 top-1/2 -translate-y-1/2 flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity z-10 w-24 justify-end",children:(0,n.jsxs)("div",{className:"bg-white/80 backdrop-blur px-3 py-1 rounded-md shadow-sm border border-slate-200 text-slate-500 font-bold font-mono text-xs",children:["Étage ",e>30?"Toit":String(e).padStart(2,"0")]})}),(0,n.jsx)("div",{className:`p-1 w-auto grid gap-1 bg-inherit mx-auto
         ${a?"grid-cols-4 w-[200px]":"grid-cols-20"}
        `,children:o.map(e=>(0,n.jsx)(L,{pageNumber:e,status:i[e]||"locked",onClick:r,size:a?"large":"normal"},e))}),(0,n.jsxs)("div",{className:`w-10 border-l border-slate-200 flex items-center justify-center text-slate-300 font-bold text-[10px] rotate-180 
        ${a?"bg-slate-200 text-slate-500":"bg-slate-50"}
      `,style:{writingMode:"vertical-rl"},children:["Juz' ",e>30?"30+":String(e).padStart(2,"0")]})]})},_=({onPageClick:e,progress:t})=>(0,n.jsxs)("div",{className:"flex flex-col items-center justify-end py-10 min-h-full overflow-x-auto w-full",children:[(0,n.jsxs)("div",{className:"relative z-10 flex flex-col items-center mb-0",children:[(0,n.jsx)("div",{className:"w-1 h-32 bg-slate-300"}),(0,n.jsx)("div",{className:"w-20 h-8 bg-slate-300 rotate-45 rounded-sm absolute top-10"}),(0,n.jsx)("div",{className:"w-16 h-16 border-4 border-slate-300 rounded-full absolute top-4"}),(0,n.jsx)("div",{className:"w-64 h-6 bg-slate-300 rounded-t-lg mt-0"}),(0,n.jsx)("div",{className:"w-full text-center pb-4 pt-2",children:(0,n.jsx)("span",{className:"bg-white/90 px-4 py-1 rounded-full text-xs font-bold text-slate-500 backdrop-blur shadow-sm border border-slate-200",children:"Sommet du Gratte-Ciel"})})]}),(0,n.jsx)("div",{className:"flex flex-col bg-white shadow-2xl border-x-4 border-slate-300 rounded-t-lg relative z-0 w-fit min-w-[1300px] divide-y divide-slate-100",children:(()=>{let s=[];s.push((0,n.jsx)(I,{juzNumber:31,startPage:601,endPage:604,progress:t,onPageClick:e,isTopLevel:!0},"juz-30-plus"));for(let i=30;i>=2;i--){let r=20*i,a=r-19;s.push((0,n.jsx)(o.default.Fragment,{children:(0,n.jsx)(I,{juzNumber:i,startPage:a,endPage:r,progress:t,onPageClick:e})},i))}return s.push((0,n.jsx)(o.default.Fragment,{children:(0,n.jsx)(I,{juzNumber:1,startPage:1,endPage:20,progress:t,onPageClick:e})},1)),s})()}),(0,n.jsx)("div",{className:"w-[1350px] h-16 bg-gradient-to-b from-slate-800 to-slate-900 rounded-t-xl mt-0 shadow-2xl flex items-center justify-center border-t border-white/20 z-10",children:(0,n.jsx)("div",{className:"text-white/40 text-sm font-mono tracking-[0.5em] uppercase font-bold",children:"FONDATION DU SAVOIR - SOURATE AL-FATIHA"})}),(0,n.jsx)("div",{className:"w-full h-32 bg-gradient-to-t from-slate-900 via-slate-800 to-transparent -mt-1 opacity-60"})]}),B=c("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),O=c("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),$=c("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),U=c("mic",[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]]),q=c("square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),W=c("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),H=c("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Y=({page:e,difficulty:t=1,onRecordingStart:s,onRecordingStop:i,onAnalysisComplete:r})=>{let[a,l]=(0,o.useState)(!1),[u,d]=(0,o.useState)(!1),[h,c]=(0,o.useState)(null),m=(0,o.useRef)(null),p=(0,o.useRef)([]),[f,g]=(0,o.useState)(!0),x=async()=>{try{let e=await navigator.mediaDevices.getUserMedia({audio:!0}),t=MediaRecorder.isTypeSupported("audio/webm;codecs=opus")?"audio/webm;codecs=opus":"audio/webm";m.current=new MediaRecorder(e,{mimeType:t}),p.current=[],m.current.ondataavailable=e=>{e.data.size>0&&p.current.push(e.data)},m.current.onstop=y,m.current.start(),l(!0),s&&s(),c(null)}catch(e){console.error("Recording error:",e),c("Impossible d'accéder au micro. Vérifiez les permissions de votre navigateur.")}},y=async()=>{d(!0);let s=new Blob(p.current,{type:"audio/webm"}),i=new FormData;i.append("audio",s,"recitation.webm"),i.append("page_id",e.toString()),i.append("difficulty_level",t.toString());try{let e=sessionStorage.getItem("access_token"),t=await fetch("http://localhost:8001/api/v1/recitation/analyze",{method:"POST",headers:{Authorization:e?`Bearer ${e}`:""},body:i});if(!t.ok){let e=await t.json();throw Error(e.detail||"Échec de l'analyse IA")}let s=await t.json();r(s)}catch(e){c(e.message||"Erreur lors de l'envoi de l'analyse.")}finally{d(!1)}};return f?(0,n.jsx)("div",{className:"p-6 bg-blue-50 dark:bg-slate-800 rounded-3xl border border-blue-100 dark:border-slate-700 shadow-sm",children:(0,n.jsxs)("div",{className:"flex items-start gap-4",children:[(0,n.jsx)("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-full",children:(0,n.jsx)(M,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-sm font-bold text-blue-900 dark:text-blue-100 mb-1",children:"Disclaimer État de l'Art"}),(0,n.jsx)("p",{className:"text-xs text-blue-700 dark:text-blue-300 leading-relaxed mb-4",children:"Ceci est un outil d'apprentissage assisté par Intelligence Artificielle. Bien que nous utilisions des modèles de pointe pour l'analyse du Tajweed et de la phonétique, cet outil ne remplace pas l'enseignement d'un professeur certifié."}),(0,n.jsxs)("button",{onClick:()=>g(!1),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-xs font-bold rounded-lg transition-colors flex items-center gap-2",children:[(0,n.jsx)(H,{className:"w-4 h-4"})," J'ai compris, commencer"]})]})]})}):(0,n.jsxs)("div",{className:"flex flex-col items-center p-8 bg-white dark:bg-slate-900 rounded-[2.5rem] shadow-2xl border border-slate-100 dark:border-white/5 w-full max-w-sm",children:[(0,n.jsxs)("div",{className:"relative mb-6",children:[a&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"absolute inset-0 bg-red-500/20 rounded-full animate-ping"}),(0,n.jsx)("div",{className:"absolute -inset-4 bg-red-500/10 rounded-full animate-pulse blur-xl"})]}),(0,n.jsx)("button",{onClick:a?()=>{m.current&&"inactive"!==m.current.state&&(m.current.stop(),m.current.stream.getTracks().forEach(e=>e.stop()),l(!1),i&&i())}:x,disabled:u,className:`relative z-10 w-24 h-24 rounded-full flex items-center justify-center transition-all duration-300 ${a?"bg-red-500 shadow-xl shadow-red-500/40 scale-95 hover:scale-100":"bg-gradient-to-br from-blue-600 to-indigo-700 hover:shadow-2xl hover:shadow-blue-500/40 hover:-translate-y-1"} ${u&&"opacity-50 cursor-not-allowed grayscale"}`,children:u?(0,n.jsx)(W,{className:"w-12 h-12 text-white animate-spin"}):a?(0,n.jsx)(q,{className:"w-10 h-10 text-white fill-current"}):(0,n.jsx)(U,{className:"w-12 h-12 text-white"})})]}),(0,n.jsxs)("div",{className:"text-center space-y-1",children:[(0,n.jsx)("h4",{className:"text-lg font-black text-slate-800 dark:text-white tracking-tight",children:u?"Analyse IA...":a?"Récitation en cours":"Prêt à réciter"}),(0,n.jsx)("p",{className:"text-sm text-slate-400 dark:text-slate-500 font-medium",children:a?"Appuyez pour terminer l'analyse":"Appuyez pour démarrer l'enregistrement"})]}),h&&(0,n.jsxs)("div",{className:"mt-6 p-3 bg-red-50 dark:bg-red-900/10 rounded-xl border border-red-100 dark:border-red-900/20 flex items-center gap-2 text-red-600 dark:text-red-400 text-xs font-semibold",children:[(0,n.jsx)(M,{className:"w-4 h-4 shrink-0"}),(0,n.jsx)("span",{children:h})]}),(0,n.jsx)("div",{className:"mt-8 flex items-center gap-1 h-8",children:[...Array(12)].map((e,t)=>(0,n.jsx)("div",{className:`w-1 rounded-full transition-all duration-300 ${a?"bg-red-400 animate-pulse":"bg-slate-200 dark:bg-slate-800"}`,style:{height:a?`${100*Math.random()}%`:"20%",animationDelay:`${.1*t}s`}},t))})]})},X=c("volume-2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]),K=[{id:"Alafasy_128kbps",name:"Mishary Rashid Alafasy"},{id:"Husary_128kbps",name:"Mahmoud Khalil Al-Husary"},{id:"Abdul_Basit_Murattal_64kbps",name:"Abdul Basit (Murattal)"},{id:"Ghamadi_40kbps",name:"Saad Al-Ghamdi"},{id:"Minshawy_Murattal_128kbps",name:"Mohamed Siddiq El-Minshawi"}];function G({page:e}){let[t,s]=(0,o.useState)(K[0].id),i=(0,o.useRef)(null),r=String(e).padStart(3,"0"),a=`https://everyayah.com/data/${t}/PageMp3s/Page${r}.mp3`;return(0,o.useEffect)(()=>{i.current&&i.current.load()},[e,t]),(0,n.jsxs)("div",{className:"mb-6 p-4 bg-slate-50 rounded-xl border border-slate-100",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,n.jsx)(X,{size:16,className:"text-sky-600"}),(0,n.jsx)("label",{htmlFor:"reciter-select",className:"text-xs font-bold uppercase text-slate-400 tracking-wider",children:"Récitateur"})]}),(0,n.jsx)("select",{id:"reciter-select",value:t,onChange:e=>s(e.target.value),className:"w-full text-sm rounded-lg border-slate-200 mb-3 bg-white text-slate-700 py-2 focus:ring-sky-500 focus:border-sky-500",children:K.map(e=>(0,n.jsx)("option",{value:e.id,children:e.name},e.id))}),(0,n.jsx)("audio",{ref:i,controls:!0,src:a,className:"w-full h-8 block rounded-lg accent-sky-600",onError:e=>{console.error("Error loading audio:",e)},children:"Votre navigateur ne supporte pas l'élément audio."}),(0,n.jsx)("div",{className:"mt-2 text-[10px] text-slate-400 text-center",children:"Source: EveryAyah.com"})]})}let Z=c("pause",[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]]),J=c("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);function Q({page:e,refreshTrigger:t}){let[s,i]=(0,o.useState)([]),[r,a]=(0,o.useState)(!1),[l,u]=(0,o.useState)(null),d=(0,o.useRef)(null),h=async()=>{a(!0);try{let t=sessionStorage.getItem("access_token"),s=await fetch(`http://localhost:8001/api/v1/recitation/history/${e}`,{headers:{Authorization:t?`Bearer ${t}`:""}});if(s.ok){let e=await s.json();i(e)}}catch(e){console.error("Failed to fetch history:",e)}finally{a(!1)}};(0,o.useEffect)(()=>{h()},[e,t]);let c=async e=>{if(confirm("Supprimer cet enregistrement ?"))try{(await fetch(`http://localhost:8001/api/v1/recitation/recording/${e}`,{method:"DELETE"})).ok&&i(s.filter(t=>t.id!==e))}catch(e){console.error("Delete failed:",e)}};return r&&0===s.length?(0,n.jsx)("div",{className:"flex items-center justify-center p-8",children:(0,n.jsx)(W,{className:"w-6 h-6 animate-spin text-slate-300"})}):0===s.length?(0,n.jsxs)("div",{className:"p-8 text-center bg-slate-50 rounded-2xl border border-dashed border-slate-200",children:[(0,n.jsx)(J,{className:"w-8 h-8 text-slate-300 mx-auto mb-2"}),(0,n.jsx)("p",{className:"text-sm text-slate-400 font-medium",children:"Aucun historique pour cette page"})]}):(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsx)("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest pl-1",children:"Mes Récitations"}),s.map(e=>(0,n.jsx)("div",{className:"group p-3 bg-white border border-slate-100 rounded-2xl hover:border-primary/20 hover:shadow-sm transition-all",children:(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)("button",{onClick:()=>{l===e.id?(d.current?.pause(),u(null)):(d.current||(d.current=new Audio,d.current.onended=()=>u(null)),d.current.src=`http://localhost:8001${e.url}`,d.current.play(),u(e.id))},className:V("w-10 h-10 rounded-full flex items-center justify-center transition-colors",l===e.id?"bg-primary text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"),children:l===e.id?(0,n.jsx)(Z,{size:18,fill:"currentColor"}):(0,n.jsx)(x,{size:18,className:"ml-1",fill:"currentColor"})}),(0,n.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2 mb-0.5",children:[(0,n.jsxs)("span",{className:V("text-[10px] font-black px-1.5 py-0.5 rounded uppercase tracking-tighter",e.score>=80?"bg-emerald-100 text-emerald-700":"bg-amber-100 text-amber-700"),children:[e.score,"% PRÉCIS"]}),(0,n.jsxs)("span",{className:"text-[10px] text-slate-300 font-medium",children:[new Date(e.timestamp).toLocaleDateString()," • ",new Date(e.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),(0,n.jsxs)("p",{className:"text-xs text-slate-500 truncate italic",children:['"',e.feedback,'"']})]}),(0,n.jsx)("button",{onClick:()=>c(e.id),className:"p-2 text-slate-300 hover:text-red-500 hover:bg-red-50 rounded-lg transition-all opacity-0 group-hover:opacity-100",children:(0,n.jsx)(T,{size:16})})]})},e.id))]})}var ee=e.i(42194);let et=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],es=new Set(et),ei=(e,t,s)=>s>t?t:s<e?e:s,er={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},ea={...er,transform:e=>ei(0,1,e)},en={...er,default:1},eo=e=>Math.round(1e5*e)/1e5,el=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,eu=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ed=(e,t)=>s=>!!("string"==typeof s&&eu.test(s)&&s.startsWith(e)||t&&null!=s&&Object.prototype.hasOwnProperty.call(s,t)),eh=(e,t,s)=>i=>{if("string"!=typeof i)return i;let[r,a,n,o]=i.match(el);return{[e]:parseFloat(r),[t]:parseFloat(a),[s]:parseFloat(n),alpha:void 0!==o?parseFloat(o):1}},ec={...er,transform:e=>Math.round(ei(0,255,e))},em={test:ed("rgb","red"),parse:eh("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:i=1})=>"rgba("+ec.transform(e)+", "+ec.transform(t)+", "+ec.transform(s)+", "+eo(ea.transform(i))+")"},ep={test:ed("#"),parse:function(e){let t="",s="",i="",r="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),i=e.substring(5,7),r=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),i=e.substring(3,4),r=e.substring(4,5),t+=t,s+=s,i+=i,r+=r),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}},transform:em.transform},ef=e=>({test:t=>"string"==typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),eg=ef("deg"),ex=ef("%"),ey=ef("px"),ev=ef("vh"),eb=ef("vw"),ew={...ex,parse:e=>ex.parse(e)/100,transform:e=>ex.transform(100*e)},ej={test:ed("hsl","hue"),parse:eh("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:i=1})=>"hsla("+Math.round(e)+", "+ex.transform(eo(t))+", "+ex.transform(eo(s))+", "+eo(ea.transform(i))+")"},ek={test:e=>em.test(e)||ep.test(e)||ej.test(e),parse:e=>em.test(e)?em.parse(e):ej.test(e)?ej.parse(e):ep.parse(e),transform:e=>"string"==typeof e?e:e.hasOwnProperty("red")?em.transform(e):ej.transform(e),getAnimatableNone:e=>{let t=ek.parse(e);return t.alpha=0,ek.transform(t)}},eS=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,eP="number",eA="color",eN=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function eT(e){let t=e.toString(),s=[],i={color:[],number:[],var:[]},r=[],a=0,n=t.replace(eN,e=>(ek.test(e)?(i.color.push(a),r.push(eA),s.push(ek.parse(e))):e.startsWith("var(")?(i.var.push(a),r.push("var"),s.push(e)):(i.number.push(a),r.push(eP),s.push(parseFloat(e))),++a,"${}")).split("${}");return{values:s,split:n,indexes:i,types:r}}function eC(e){return eT(e).values}function eM(e){let{split:t,types:s}=eT(e),i=t.length;return e=>{let r="";for(let a=0;a<i;a++)if(r+=t[a],void 0!==e[a]){let t=s[a];t===eP?r+=eo(e[a]):t===eA?r+=ek.transform(e[a]):r+=e[a]}return r}}let eE=e=>"number"==typeof e?0:ek.test(e)?ek.getAnimatableNone(e):e,eR={test:function(e){return isNaN(e)&&"string"==typeof e&&(e.match(el)?.length||0)+(e.match(eS)?.length||0)>0},parse:eC,createTransformer:eM,getAnimatableNone:function(e){let t=eC(e);return eM(e)(t.map(eE))}},eV=new Set(["brightness","contrast","saturate","opacity"]);function eD(e){let[t,s]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;let[i]=s.match(el)||[];if(!i)return e;let r=s.replace(i,""),a=+!!eV.has(t);return i!==s&&(a*=100),t+"("+a+r+")"}let ez=/\b([a-z-]*)\(.*?\)/gu,eF={...eR,getAnimatableNone:e=>{let t=e.match(ez);return t?t.map(eD).join(" "):e}},eL={...eR,getAnimatableNone:e=>{let t=eR.parse(e);return eR.createTransformer(e)(t.map(e=>"number"==typeof e?0:"object"==typeof e?{...e,alpha:1}:e))}},eI={...er,transform:Math.round},e_={borderWidth:ey,borderTopWidth:ey,borderRightWidth:ey,borderBottomWidth:ey,borderLeftWidth:ey,borderRadius:ey,borderTopLeftRadius:ey,borderTopRightRadius:ey,borderBottomRightRadius:ey,borderBottomLeftRadius:ey,width:ey,maxWidth:ey,height:ey,maxHeight:ey,top:ey,right:ey,bottom:ey,left:ey,inset:ey,insetBlock:ey,insetBlockStart:ey,insetBlockEnd:ey,insetInline:ey,insetInlineStart:ey,insetInlineEnd:ey,padding:ey,paddingTop:ey,paddingRight:ey,paddingBottom:ey,paddingLeft:ey,paddingBlock:ey,paddingBlockStart:ey,paddingBlockEnd:ey,paddingInline:ey,paddingInlineStart:ey,paddingInlineEnd:ey,margin:ey,marginTop:ey,marginRight:ey,marginBottom:ey,marginLeft:ey,marginBlock:ey,marginBlockStart:ey,marginBlockEnd:ey,marginInline:ey,marginInlineStart:ey,marginInlineEnd:ey,fontSize:ey,backgroundPositionX:ey,backgroundPositionY:ey,rotate:eg,rotateX:eg,rotateY:eg,rotateZ:eg,scale:en,scaleX:en,scaleY:en,scaleZ:en,skew:eg,skewX:eg,skewY:eg,distance:ey,translateX:ey,translateY:ey,translateZ:ey,x:ey,y:ey,z:ey,perspective:ey,transformPerspective:ey,opacity:ea,originX:ew,originY:ew,originZ:ey,zIndex:eI,fillOpacity:ea,strokeOpacity:ea,numOctaves:eI},eB={...e_,color:ek,backgroundColor:ek,outlineColor:ek,fill:ek,stroke:ek,borderColor:ek,borderTopColor:ek,borderRightColor:ek,borderBottomColor:ek,borderLeftColor:ek,filter:eF,WebkitFilter:eF,mask:eL,WebkitMask:eL},eO=e=>eB[e],e$=()=>({translate:0,scale:1,origin:0,originPoint:0}),eU=()=>({x:e$(),y:e$()}),eq=()=>({min:0,max:0}),eW=()=>({x:eq(),y:eq()}),eH=e=>!!(e&&e.getVelocity),eY=new Set(["width","height","top","left","right","bottom",...et]),eX=e=>t=>t.test(e),eK=[er,ey,ex,eg,eb,ev,{test:e=>"auto"===e,parse:e=>e}],eG=e=>eK.find(eX(e));var eZ=e.i(14343);let eJ=()=>{},eQ=()=>{};eZ.default;let e0=e=>t=>"string"==typeof t&&t.startsWith(e),e1=e0("--"),e2=e0("var(--"),e5=e=>!!e2(e)&&e4.test(e.split("/*")[0].trim()),e4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function e3(e){return"string"==typeof e&&e.split("/*")[0].includes("var(--")}let e6=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u,e8=e=>180*e/Math.PI,e9=e=>te(e8(Math.atan2(e[1],e[0]))),e7={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:e9,rotateZ:e9,skewX:e=>e8(Math.atan(e[1])),skewY:e=>e8(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},te=e=>((e%=360)<0&&(e+=360),e),tt=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),ts=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),ti={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:tt,scaleY:ts,scale:e=>(tt(e)+ts(e))/2,rotateX:e=>te(e8(Math.atan2(e[6],e[5]))),rotateY:e=>te(e8(Math.atan2(-e[2],e[0]))),rotateZ:e9,rotate:e9,skewX:e=>e8(Math.atan(e[4])),skewY:e=>e8(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function tr(e){return+!!e.includes("scale")}function ta(e,t){let s,i;if(!e||"none"===e)return tr(t);let r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);if(r)s=ti,i=r;else{let t=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=e7,i=t}if(!i)return tr(t);let a=s[t],n=i[1].split(",").map(tn);return"function"==typeof a?a(n):n[a]}function tn(e){return parseFloat(e.trim())}let to=e=>e===er||e===ey,tl=new Set(["x","y","z"]),tu=et.filter(e=>!tl.has(e)),td={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>ta(t,"x"),y:(e,{transform:t})=>ta(t,"y")};td.translateX=td.x,td.translateY=td.y;let th=e=>e,tc={},tm=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function tp(e,t){let s=!1,i=!0,r={delta:0,timestamp:0,isProcessing:!1},a=()=>s=!0,n=tm.reduce((e,s)=>(e[s]=function(e,t){let s=new Set,i=new Set,r=!1,a=!1,n=new WeakSet,o={delta:0,timestamp:0,isProcessing:!1},l=0;function u(t){n.has(t)&&(d.schedule(t),e()),l++,t(o)}let d={schedule:(e,t=!1,a=!1)=>{let o=a&&r?s:i;return t&&n.add(e),o.has(e)||o.add(e),e},cancel:e=>{i.delete(e),n.delete(e)},process:e=>{if(o=e,r){a=!0;return}r=!0,[s,i]=[i,s],s.forEach(u),t,l=0,s.clear(),r=!1,a&&(a=!1,d.process(e))}};return d}(a,t?s:void 0),e),{}),{setup:o,read:l,resolveKeyframes:u,preUpdate:d,update:h,preRender:c,render:m,postRender:p}=n,f=()=>{let a=tc.useManualTiming?r.timestamp:performance.now();s=!1,tc.useManualTiming||(r.delta=i?1e3/60:Math.max(Math.min(a-r.timestamp,40),1)),r.timestamp=a,r.isProcessing=!0,o.process(r),l.process(r),u.process(r),d.process(r),h.process(r),c.process(r),m.process(r),p.process(r),r.isProcessing=!1,s&&t&&(i=!1,e(f))};return{schedule:tm.reduce((t,a)=>{let o=n[a];return t[a]=(t,a=!1,n=!1)=>(!s&&(s=!0,i=!0,r.isProcessing||e(f)),o.schedule(t,a,n)),t},{}),cancel:e=>{for(let t=0;t<tm.length;t++)n[tm[t]].cancel(e)},state:r,steps:n}}let{schedule:tf,cancel:tg,state:tx,steps:ty}=tp("u">typeof requestAnimationFrame?requestAnimationFrame:th,!0),tv=new Set,tb=!1,tw=!1,tj=!1;function tk(){if(tw){let e=Array.from(tv).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),s=new Map;t.forEach(e=>{let t,i=(t=[],tu.forEach(s=>{let i=e.getValue(s);void 0!==i&&(t.push([s,i.get()]),i.set(+!!s.startsWith("scale")))}),t);i.length&&(s.set(e,i),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();let t=s.get(e);t&&t.forEach(([t,s])=>{e.getValue(t)?.set(s)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}tw=!1,tb=!1,tv.forEach(e=>e.complete(tj)),tv.clear()}function tS(){tv.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(tw=!0)})}class tP{constructor(e,t,s,i,r,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=s,this.motionValue=i,this.element=r,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(tv.add(this),tb||(tb=!0,tf.read(tS),tf.resolveKeyframes(tk))):(this.readKeyframes(),this.complete())}readKeyframes(){let{unresolvedKeyframes:e,name:t,element:s,motionValue:i}=this;if(null===e[0]){let r=i?.get(),a=e[e.length-1];if(void 0!==r)e[0]=r;else if(s&&t){let i=s.readValue(t,a);null!=i&&(e[0]=i)}void 0===e[0]&&(e[0]=a),i&&void 0===r&&i.set(e[0])}for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),tv.delete(this)}cancel(){"scheduled"===this.state&&(tv.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}let tA=new Set([eF,eL]);function tN(e,t){let s=eO(e);return tA.has(s)||(s=eR),s.getAnimatableNone?s.getAnimatableNone(t):void 0}let tT=new Set(["auto","none","0"]);class tC extends tP{constructor(e,t,s,i,r){super(e,t,s,i,r,!0)}readKeyframes(){let{unresolvedKeyframes:e,element:t,name:s}=this;if(!t||!t.current)return;super.readKeyframes();for(let s=0;s<e.length;s++){let i=e[s];if("string"==typeof i&&e5(i=i.trim())){let r=function e(t,s,i=1){eQ(i<=4,`Max CSS variable fallback depth detected in property "${t}". This may indicate a circular fallback dependency.`,"max-css-var-depth");let[r,a]=function(e){let t=e6.exec(e);if(!t)return[,];let[,s,i,r]=t;return[`--${s??i}`,r]}(t);if(!r)return;let n=window.getComputedStyle(s).getPropertyValue(r);if(n){let e=n.trim();return/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e)?parseFloat(e):e}return e5(a)?e(a,s,i+1):a}(i,t.current);void 0!==r&&(e[s]=r),s===e.length-1&&(this.finalKeyframe=i)}}if(this.resolveNoneKeyframes(),!eY.has(s)||2!==e.length)return;let[i,r]=e,a=eG(i),n=eG(r);if(e3(i)!==e3(r)&&td[s]){this.needsMeasurement=!0;return}if(a!==n)if(to(a)&&to(n))for(let t=0;t<e.length;t++){let s=e[t];"string"==typeof s&&(e[t]=parseFloat(s))}else td[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){let{unresolvedKeyframes:e,name:t}=this,s=[];for(let t=0;t<e.length;t++)(null===e[t]||function(e){if("number"==typeof e)return 0===e;if(null===e)return!0;return"none"===e||"0"===e||/^0[^.\s]+$/u.test(e)}(e[t]))&&s.push(t);s.length&&function(e,t,s){let i,r=0;for(;r<e.length&&!i;){let t=e[r];"string"==typeof t&&!tT.has(t)&&eT(t).values.length&&(i=e[r]),r++}if(i&&s)for(let r of t)e[r]=tN(s,i)}(e,s,t)}measureInitialState(){let{element:e,unresolvedKeyframes:t,name:s}=this;if(!e||!e.current)return;"height"===s&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=td[s](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;let i=t[t.length-1];void 0!==i&&e.getValue(s,i).jump(i,!1)}measureEndState(){let{element:e,name:t,unresolvedKeyframes:s}=this;if(!e||!e.current)return;let i=e.getValue(t);i&&i.jump(this.measuredOrigin,!1);let r=s.length-1,a=s[r];s[r]=td[t](e.measureViewportBox(),window.getComputedStyle(e.current)),null!==a&&void 0===this.finalKeyframe&&(this.finalKeyframe=a),this.removedTransforms?.length&&this.removedTransforms.forEach(([t,s])=>{e.getValue(t).set(s)}),this.resolveNoneKeyframes()}}let tM=e=>1e3*e;function tE(e,t){-1===e.indexOf(t)&&e.push(t)}function tR(e,t){let s=e.indexOf(t);s>-1&&e.splice(s,1)}class tV{constructor(){this.subscriptions=[]}add(e){return tE(this.subscriptions,e),()=>tR(this.subscriptions,e)}notify(e,t,s){let i=this.subscriptions.length;if(i)if(1===i)this.subscriptions[0](e,t,s);else for(let r=0;r<i;r++){let i=this.subscriptions[r];i&&i(e,t,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function tD(e){let t;return()=>(void 0===t&&(t=e()),t)}let tz={};function tF(e,t){let s=tD(e);return()=>tz[t]??s()}let tL=tF(()=>void 0!==window.ScrollTimeline,"scrollTimeline"),tI=e=>null!==e;function t_(e,{repeat:t,repeatType:s="loop"},i,r=1){let a=e.filter(tI),n=r<0||t&&"loop"!==s&&t%2==1?0:a.length-1;return n&&void 0!==i?i:a[n]}class tB{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}let tO={layout:0,mainThread:0,waapi:0},t$=e=>Array.isArray(e)&&"number"==typeof e[0],tU=tF(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(e){return!1}return!0},"linearEasing"),tq=(e,t,s=10)=>{let i="",r=Math.max(Math.round(t/s),2);for(let t=0;t<r;t++)i+=Math.round(1e4*e(t/(r-1)))/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},tW=([e,t,s,i])=>`cubic-bezier(${e}, ${t}, ${s}, ${i})`,tH={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:tW([0,.65,.55,1]),circOut:tW([.55,0,1,.45]),backIn:tW([.31,.01,.66,-.59]),backOut:tW([.33,1.53,.69,.99])};function tY(e){return"function"==typeof e&&"applyToOptions"in e}class tX extends tB{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:t,name:s,keyframes:i,pseudoElement:r,allowFlatten:a=!1,finalKeyframe:n,onComplete:o}=e;this.isPseudoElement=!!r,this.allowFlatten=a,this.options=e,eQ("string"!=typeof e.type,'Mini animate() doesn\'t support "type" as a string.',"mini-spring");const l=function({type:e,...t}){return tY(e)&&tU()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}(e);this.animation=function(e,t,s,{delay:i=0,duration:r=300,repeat:a=0,repeatType:n="loop",ease:o="easeOut",times:l}={},u){let d={[t]:s};l&&(d.offset=l);let h=function e(t,s){if(t)return"function"==typeof t?tU()?tq(t,s):"ease-out":t$(t)?tW(t):Array.isArray(t)?t.map(t=>e(t,s)||tH.easeOut):tH[t]}(o,r);Array.isArray(h)&&(d.easing=h);let c={delay:i,duration:r,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:a+1,direction:"reverse"===n?"alternate":"normal"};u&&(c.pseudoElement=u);let m=e.animate(d,c);return m}(t,s,i,l,r),!1===l.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!r){let e=t_(i,this.options,n,this.speed);this.updateMotionValue?this.updateMotionValue(e):s.startsWith("--")?t.style.setProperty(s,e):t.style[s]=e,this.animation.cancel()}o?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch(e){}}stop(){if(this.isStopped)return;this.isStopped=!0;let{state:e}=this;"idle"!==e&&"finished"!==e&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){let e=this.options?.element;!this.isPseudoElement&&e?.isConnected&&this.animation.commitStyles?.()}get duration(){return Number(this.animation.effect?.getComputedTiming?.().duration||0)/1e3}get iterationDuration(){let{delay:e=0}=this.options||{};return this.duration+e/1e3}get time(){return(Number(this.animation.currentTime)||0)/1e3}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=tM(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return(this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&tL())?(this.animation.timeline=e,th):t(this)}}let tK=new Set(["opacity","clipPath","filter","transform"]),{schedule:tG}=tp(queueMicrotask,!1);function tZ(){t=void 0}let tJ={now:()=>(void 0===t&&tJ.set(tx.isProcessing||tc.useManualTiming?tx.timestamp:performance.now()),t),set:e=>{t=e,queueMicrotask(tZ)}};class tQ{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=e=>{let t=tJ.now();if(this.updatedAt!==t&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(let e of this.dependents)e.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=tJ.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=!isNaN(parseFloat(this.current)))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new tV);let s=this.events[e].add(t);return"change"===e?()=>{s(),tf.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(let e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,s){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return r&&r.push(this),this.current}getPrevious(){return this.prev}getVelocity(){var e;let t=tJ.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||t-this.updatedAt>30)return 0;let s=Math.min(this.updatedAt-this.prevUpdatedAt,30);return e=parseFloat(this.current)-parseFloat(this.prevFrameValue),s?1e3/s*e:0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function t0(e,t){return new tQ(e,t)}let t1=[...eK,ek,eR],t2=new WeakMap;function t5(e){return null!==e&&"object"==typeof e&&"function"==typeof e.start}function t4(e){return"string"==typeof e||Array.isArray(e)}let t3=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],t6=["initial",...t3];function t8(e){return t5(e.animate)||t6.some(t=>t4(e[t]))}function t9(e){return!!(t8(e)||e.variants)}let t7={current:null},se={current:!1},st="u">typeof window;function ss(e){let t=[{},{}];return e?.values.forEach((e,s)=>{t[0][s]=e.get(),t[1][s]=e.getVelocity()}),t}function si(e,t,s,i){if("function"==typeof t){let[r,a]=ss(i);t=t(void 0!==s?s:e.custom,r,a)}if("string"==typeof t&&(t=e.variants&&e.variants[t]),"function"==typeof t){let[r,a]=ss(i);t=t(void 0!==s?s:e.custom,r,a)}return t}let sr=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],sa={};class sn{scrapeMotionValuesFromProps(e,t,s){return{}}constructor({parent:e,props:t,presenceContext:s,reducedMotionConfig:i,skipAnimations:r,blockInitialAnimation:a,visualState:n},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=tP,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{let e=tJ.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,tf.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=n;this.latestValues=l,this.baseTarget={...l},this.initialValues=t.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=t,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.skipAnimationsConfig=r,this.options=o,this.blockInitialAnimation=!!a,this.isControllingVariants=t8(t),this.isVariantNode=t9(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(t,{},this);for(const e in h){const t=h[e];void 0!==l[e]&&eH(t)&&t.set(l[e])}}mount(e){if(this.hasBeenMounted)for(let e in this.initialValues)this.values.get(e)?.jump(this.initialValues[e]),this.latestValues[e]=this.initialValues[e];this.current=e,t2.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),"never"===this.reducedMotionConfig?this.shouldReduceMotion=!1:"always"===this.reducedMotionConfig?this.shouldReduceMotion=!0:(se.current||function(){if(se.current=!0,st)if(window.matchMedia){let e=window.matchMedia("(prefers-reduced-motion)"),t=()=>t7.current=e.matches;e.addEventListener("change",t),t()}else t7.current=!1}(),this.shouldReduceMotion=t7.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){for(let e in this.projection&&this.projection.unmount(),tg(this.notifyUpdate),tg(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this),this.events)this.events[e].clear();for(let e in this.features){let t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){let s;if(this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)(),t.accelerate&&tK.has(e)&&this.current instanceof HTMLElement){let{factory:s,keyframes:i,times:r,ease:a,duration:n}=t.accelerate,o=new tX({element:this.current,name:e,keyframes:i,times:r,ease:a,duration:tM(n)}),l=s(o);this.valueSubscriptions.set(e,()=>{l(),o.cancel()});return}let i=es.has(e);i&&this.onBindTransform&&this.onBindTransform();let r=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&tf.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});"u">typeof window&&window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),s&&s(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in sa){let t=sa[e];if(!t)continue;let{isEnabled:s,Feature:i}=t;if(!this.features[e]&&i&&s(this.props)&&(this.features[e]=new i(this)),this.features[e]){let t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):eW()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let t=0;t<sr.length;t++){let s=sr[t];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);let i=e["on"+s];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=function(e,t,s){for(let i in t){let r=t[i],a=s[i];if(eH(r))e.addValue(i,r);else if(eH(a))e.addValue(i,t0(r,{owner:e}));else if(a!==r)if(e.hasValue(i)){let t=e.getValue(i);!0===t.liveStyle?t.jump(r):t.hasAnimated||t.set(r)}else{let t=e.getStaticValue(i);e.addValue(i,t0(void 0!==t?t:r,{owner:e}))}}for(let i in s)void 0===t[i]&&e.removeValue(i);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){let t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){let s=this.values.get(e);t!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);let t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return void 0===s&&void 0!==t&&(s=t0(null===t?void 0:t,{owner:this}),this.addValue(e,s)),s}readValue(e,t){let s=void 0===this.latestValues[e]&&this.current?this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];if(null!=s){let i,r;if("string"==typeof s&&(i=s,/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(i)||(r=s,/^0[^.\s]+$/u.test(r))))s=parseFloat(s);else{let i;i=s,!t1.find(eX(i))&&eR.test(t)&&(s=tN(e,t))}this.setBaseTarget(e,eH(s)?s.get():s)}return eH(s)?s.get():s}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){let t,{initial:s}=this.props;if("string"==typeof s||"object"==typeof s){let i=si(this.props,s,this.presenceContext?.custom);i&&(t=i[e])}if(s&&void 0!==t)return t;let i=this.getBaseTargetFromProps(this.props,e);return void 0===i||eH(i)?void 0!==this.initialValues[e]&&void 0===t?void 0:this.baseTarget[e]:i}on(e,t){return this.events[e]||(this.events[e]=new tV),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){tG.render(this.render)}}class so extends sn{constructor(){super(...arguments),this.KeyframeResolver=tC}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){let s=e.style;return s?s[t]:void 0}removeValueFromRenderState(e,{vars:t,style:s}){delete t[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);let{children:e}=this.props;eH(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function sl(e){return e.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}let su=(e,t)=>t&&"number"==typeof e?t.transform(e):e,sd={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},sh=et.length;function sc(e,t,s){let{style:i,vars:r,transformOrigin:a}=e,n=!1,o=!1;for(let e in t){let s=t[e];if(es.has(e)){n=!0;continue}if(e1(e)){r[e]=s;continue}{let t=su(s,e_[e]);e.startsWith("origin")?(o=!0,a[e]=t):i[e]=t}}if(!t.transform&&(n||s?i.transform=function(e,t,s){let i="",r=!0;for(let a=0;a<sh;a++){let n=et[a],o=e[n];if(void 0===o)continue;let l=!0;if("number"==typeof o)l=o===+!!n.startsWith("scale");else{let e=parseFloat(o);l=n.startsWith("scale")?1===e:0===e}if(!l||s){let e=su(o,e_[n]);if(!l){r=!1;let t=sd[n]||n;i+=`${t}(${e}) `}s&&(t[n]=e)}}return i=i.trim(),s?i=s(t,r?"":i):r&&(i="none"),i}(t,e.transform,s):i.transform&&(i.transform="none")),o){let{originX:e="50%",originY:t="50%",originZ:s=0}=a;i.transformOrigin=`${e} ${t} ${s}`}}let sm={offset:"stroke-dashoffset",array:"stroke-dasharray"},sp={offset:"strokeDashoffset",array:"strokeDasharray"},sf=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function sg(e,{attrX:t,attrY:s,attrScale:i,pathLength:r,pathSpacing:a=1,pathOffset:n=0,...o},l,u,d){if(sc(e,o,u),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};let{attrs:h,style:c}=e;for(let e of(h.transform&&(c.transform=h.transform,delete h.transform),(c.transform||h.transformOrigin)&&(c.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),c.transform&&(c.transformBox=d?.transformBox??"fill-box",delete h.transformBox),sf))void 0!==h[e]&&(c[e]=h[e],delete h[e]);void 0!==t&&(h.x=t),void 0!==s&&(h.y=s),void 0!==i&&(h.scale=i),void 0!==r&&function(e,t,s=1,i=0,r=!0){e.pathLength=1;let a=r?sm:sp;e[a.offset]=`${-i}`,e[a.array]=`${t} ${s}`}(h,r,a,n,!1)}let sx=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),sy=e=>"string"==typeof e&&"svg"===e.toLowerCase();function sv(e,{style:t,vars:s},i,r){let a,n=e.style;for(a in t)n[a]=t[a];for(a in r?.applyProjectionStyles(n,i),s)n.setProperty(a,s[a])}function sb(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}let sw={correct:(e,t)=>{if(!t.target)return e;if("string"==typeof e)if(!ey.test(e))return e;else e=parseFloat(e);let s=sb(e,t.target.x),i=sb(e,t.target.y);return`${s}% ${i}%`}},sj=(e,t,s)=>e+(t-e)*s,sk={borderRadius:{...sw,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:sw,borderTopRightRadius:sw,borderBottomLeftRadius:sw,borderBottomRightRadius:sw,boxShadow:{correct:(e,{treeScale:t,projectionDelta:s})=>{let i=eR.parse(e);if(i.length>5)return e;let r=eR.createTransformer(e),a=+("number"!=typeof i[0]),n=s.x.scale*t.x,o=s.y.scale*t.y;i[0+a]/=n,i[1+a]/=o;let l=sj(n,o,.5);return"number"==typeof i[2+a]&&(i[2+a]/=l),"number"==typeof i[3+a]&&(i[3+a]/=l),r(i)}}};function sS(e,{layout:t,layoutId:s}){return es.has(e)||e.startsWith("origin")||(t||void 0!==s)&&(!!sk[e]||"opacity"===e)}function sP(e,t,s){let i=e.style,r=t?.style,a={};if(!i)return a;for(let t in i)(eH(i[t])||r&&eH(r[t])||sS(t,e)||s?.getValue(t)?.liveStyle!==void 0)&&(a[t]=i[t]);return a}function sA(e,t,s){let i=sP(e,t,s);for(let s in e)(eH(e[s])||eH(t[s]))&&(i[-1!==et.indexOf(s)?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s]=e[s]);return i}class sN extends so{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=eW}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(es.has(t)){let e=eO(t);return e&&e.default||0}return t=sx.has(t)?t:sl(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,s){return sA(e,t,s)}build(e,t,s){sg(e,t,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,t,s,i){for(let s in sv(e,t,void 0,i),t.attrs)e.setAttribute(sx.has(s)?s:sl(s),t.attrs[s])}mount(e){this.isSVGTag=sy(e.tagName),super.mount(e)}}function sT({top:e,left:t,right:s,bottom:i}){return{x:{min:t,max:s},y:{min:e,max:i}}}function sC(e){return void 0===e||1===e}function sM({scale:e,scaleX:t,scaleY:s}){return!sC(e)||!sC(t)||!sC(s)}function sE(e){return sM(e)||sR(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function sR(e){var t,s;return(t=e.x)&&"0%"!==t||(s=e.y)&&"0%"!==s}function sV(e,t,s,i,r){return void 0!==r&&(e=i+r*(e-i)),i+s*(e-i)+t}function sD(e,t=0,s=1,i,r){e.min=sV(e.min,t,s,i,r),e.max=sV(e.max,t,s,i,r)}function sz(e,{x:t,y:s}){sD(e.x,t.translate,t.scale,t.originPoint),sD(e.y,s.translate,s.scale,s.originPoint)}function sF(e,t){e.min=e.min+t,e.max=e.max+t}function sL(e,t,s,i,r=.5){let a=sj(e.min,e.max,r);sD(e,t,s,a,i)}function sI(e,t){sL(e.x,t.x,t.scaleX,t.scale,t.originX),sL(e.y,t.y,t.scaleY,t.scale,t.originY)}function s_(e,t){return sT(function(e,t){if(!t)return e;let s=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:i.y,right:i.x}}(e.getBoundingClientRect(),t))}class sB extends so{constructor(){super(...arguments),this.type="html",this.renderInstance=sv}readValueFromInstance(e,t){if(es.has(t))return this.projection?.isProjecting?tr(t):((e,t)=>{let{transform:s="none"}=getComputedStyle(e);return ta(s,t)})(e,t);{let s=window.getComputedStyle(e),i=(e1(t)?s.getPropertyValue(t):s[t])||0;return"string"==typeof i?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return s_(e,t)}build(e,t,s){sc(e,t,s.transformTemplate)}scrapeMotionValuesFromProps(e,t,s){return sP(e,t,s)}}let sO=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function s$(e){if("string"!=typeof e||e.includes("-"));else if(sO.indexOf(e)>-1||/[A-Z]/u.test(e))return!0;return!1}let sU=(0,o.createContext)({}),sq=(0,o.createContext)({strict:!1}),sW=(0,o.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),sH=(0,o.createContext)({});function sY(e){return Array.isArray(e)?e.join(" "):e}let sX=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function sK(e,t,s){for(let i in t)eH(t[i])||sS(i,s)||(e[i]=t[i])}let sG=()=>({...sX(),attrs:{}}),sZ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function sJ(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||sZ.has(e)}let sQ=e=>!sJ(e);try{a=(()=>{let e=Error("Cannot find module '@emotion/is-prop-valid'");throw e.code="MODULE_NOT_FOUND",e})().default,"function"==typeof a&&(sQ=e=>e.startsWith("on")?!sJ(e):a(e))}catch{}function s0(e){return eH(e)?e.get():e}let s1=(0,o.createContext)(null),s2=e=>(t,s)=>{let i,r=(0,o.useContext)(sH),a=(0,o.useContext)(s1),n=()=>(function({scrapeMotionValuesFromProps:e,createRenderState:t},s,i,r){return{latestValues:function(e,t,s,i){let r={},a=i(e,{});for(let e in a)r[e]=s0(a[e]);let{initial:n,animate:o}=e,l=t8(e),u=t9(e);t&&u&&!l&&!1!==e.inherit&&(void 0===n&&(n=t.initial),void 0===o&&(o=t.animate));let d=!!s&&!1===s.initial,h=(d=d||!1===n)?o:n;if(h&&"boolean"!=typeof h&&!t5(h)){let t=Array.isArray(h)?h:[h];for(let s=0;s<t.length;s++){let i=si(e,t[s]);if(i){let{transitionEnd:e,transition:t,...s}=i;for(let e in s){let t=s[e];if(Array.isArray(t)){let e=d?t.length-1:0;t=t[e]}null!==t&&(r[e]=t)}for(let t in e)r[t]=e[t]}}}return r}(s,i,r,e),renderState:t()}})(e,t,r,a);return s?n():(null===(i=(0,o.useRef)(null)).current&&(i.current=n()),i.current)},s5=s2({scrapeMotionValuesFromProps:sP,createRenderState:sX}),s4=s2({scrapeMotionValuesFromProps:sA,createRenderState:sG}),s3="u">typeof window,s6={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},s8=!1;function s9(){return!function(){if(s8)return;let e={};for(let t in s6)e[t]={isEnabled:e=>s6[t].some(t=>!!e[t])};sa=e,s8=!0}(),sa}let s7=Symbol.for("motionComponentSymbol"),ie="data-"+sl("framerAppearId"),it=(0,o.createContext)({});function is(e){return e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}let ii=s3?o.useLayoutEffect:o.useEffect;function ir(e,{forwardMotionProps:t=!1,type:s}={},i,r){i&&function(e){let t=s9();for(let s in e)t[s]={...t[s],...e[s]};sa=t}(i);let a=s?"svg"===s:s$(e),l=a?s4:s5;function u(s,i){var u;let d,h,c,m={...(0,o.useContext)(sW),...s,layoutId:function({layoutId:e}){let t=(0,o.useContext)(sU).id;return t&&void 0!==e?t+"-"+e:e}(s)},{isStatic:p}=m,f=function(e){let{initial:t,animate:s}=function(e,t){if(t8(e)){let{initial:t,animate:s}=e;return{initial:!1===t||t4(t)?t:void 0,animate:t4(s)?s:void 0}}return!1!==e.inherit?t:{}}(e,(0,o.useContext)(sH));return(0,o.useMemo)(()=>({initial:t,animate:s}),[sY(t),sY(s)])}(s),g=l(s,p);if(!p&&s3){(0,o.useContext)(sq).strict;let t=function(e){let{drag:t,layout:s}=s9();if(!t&&!s)return{};let i={...t,...s};return{MeasureLayout:t?.isEnabled(e)||s?.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}(m);d=t.MeasureLayout,f.visualElement=function(e,t,s,i,r,a){let{visualElement:n}=(0,o.useContext)(sH),l=(0,o.useContext)(sq),u=(0,o.useContext)(s1),d=(0,o.useContext)(sW),h=d.reducedMotion,c=d.skipAnimations,m=(0,o.useRef)(null),p=(0,o.useRef)(!1);i=i||l.renderer,!m.current&&i&&(m.current=i(e,{visualState:t,parent:n,props:s,presenceContext:u,blockInitialAnimation:!!u&&!1===u.initial,reducedMotionConfig:h,skipAnimations:c,isSVG:a}),p.current&&m.current&&(m.current.manuallyAnimateOnMount=!0));let f=m.current,g=(0,o.useContext)(it);f&&!f.projection&&r&&("html"===f.type||"svg"===f.type)&&function(e,t,s,i){let{layoutId:r,layout:a,drag:n,dragConstraints:o,layoutScroll:l,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new s(e.latestValues,t["data-framer-portal-id"]?void 0:function e(t){if(t)return!1!==t.options.allowProjection?t.projection:e(t.parent)}(e.parent)),e.projection.setOptions({layoutId:r,layout:a,alwaysMeasureLayout:!!n||o&&is(o),visualElement:e,animationType:"string"==typeof a?a:"both",initialPromotionConfig:i,crossfade:d,layoutScroll:l,layoutRoot:u})}(m.current,s,r,g);let x=(0,o.useRef)(!1);(0,o.useInsertionEffect)(()=>{f&&x.current&&f.update(s,u)});let y=s[ie],v=(0,o.useRef)(!!y&&!window.MotionHandoffIsComplete?.(y)&&window.MotionHasOptimisedAnimation?.(y));return ii(()=>{p.current=!0,f&&(x.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),v.current&&f.animationState&&f.animationState.animateChanges())}),(0,o.useEffect)(()=>{f&&(!v.current&&f.animationState&&f.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(y)}),v.current=!1),f.enteringChildren=void 0)}),f}(e,g,m,r,t.ProjectionNode,a)}return(0,n.jsxs)(sH.Provider,{value:f,children:[d&&f.visualElement?(0,n.jsx)(d,{visualElement:f.visualElement,...m}):null,function(e,t,s,{latestValues:i},r,a=!1,n){let l=(n??s$(e)?function(e,t,s,i){let r=(0,o.useMemo)(()=>{let s=sG();return sg(s,t,sy(i),e.transformTemplate,e.style),{...s.attrs,style:{...s.style}}},[t]);if(e.style){let t={};sK(t,e.style,e),r.style={...t,...r.style}}return r}:function(e,t){let s,i,r={},a=(s=e.style||{},sK(i={},s,e),Object.assign(i,function({transformTemplate:e},t){return(0,o.useMemo)(()=>{let s=sX();return sc(s,t,e),Object.assign({},s.vars,s.style)},[t])}(e,t)),i);return e.drag&&!1!==e.dragListener&&(r.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=!0===e.drag?"none":`pan-${"x"===e.drag?"y":"x"}`),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=a,r})(t,i,r,e),u=function(e,t,s){let i={};for(let r in e)("values"!==r||"object"!=typeof e.values)&&(sQ(r)||!0===s&&sJ(r)||!t&&!sJ(r)||e.draggable&&r.startsWith("onDrag"))&&(i[r]=e[r]);return i}(t,"string"==typeof e,a),d=e!==o.Fragment?{...u,...l,ref:s}:{},{children:h}=t,c=(0,o.useMemo)(()=>eH(h)?h.get():h,[h]);return(0,o.createElement)(e,{...d,children:c})}(e,s,(u=f.visualElement,h=(0,o.useRef)(i),(0,o.useInsertionEffect)(()=>{h.current=i}),c=(0,o.useRef)(null),(0,o.useCallback)(e=>{e&&g.onMount?.(e),u&&(e?u.mount(e):u.unmount());let t=h.current;if("function"==typeof t)if(e){let s=t(e);"function"==typeof s&&(c.current=s)}else c.current?(c.current(),c.current=null):t(e);else t&&(t.current=e)},[u])),g,p,t,a)]})}u.displayName=`motion.${"string"==typeof e?e:`create(${e.displayName??e.name??""})`}`;let d=(0,o.forwardRef)(u);return d[s7]=e,d}class ia{constructor(e){this.isMounted=!1,this.node=e}update(){}}function io(e,t,s){let i=e.getProps();return si(i,t,void 0!==s?s:i.custom,e)}function il(e,t){if(e?.inherit&&t){let{inherit:s,...i}=e;return{...t,...i}}return e}function iu(e,t){let s=e?.[t]??e?.default??e;return s!==e?il(s,e):s}let id=e=>Array.isArray(e);function ih(e,t){let s=e.getValue("willChange");if(eH(s)&&s.add)return s.add(t);if(!s&&tc.WillChange){let s=new tc.WillChange("auto");e.addValue("willChange",s),s.add(t)}}let ic=(e,t)=>s=>t(e(s)),im=(...e)=>e.reduce(ic);function ip(e,t,s){return(s<0&&(s+=1),s>1&&(s-=1),s<1/6)?e+(t-e)*6*s:s<.5?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function ig(e,t){return s=>s>0?t:e}let ix=(e,t,s)=>{let i=e*e,r=s*(t*t-i)+i;return r<0?0:Math.sqrt(r)},iy=[ep,em,ej];function iv(e){let t=iy.find(t=>t.test(e));if(eJ(!!t,`'${e}' is not an animatable color. Use the equivalent color code instead.`,"color-not-animatable"),!t)return!1;let s=t.parse(e);return t===ej&&(s=function({hue:e,saturation:t,lightness:s,alpha:i}){e/=360,s/=100;let r=0,a=0,n=0;if(t/=100){let i=s<.5?s*(1+t):s+t-s*t,o=2*s-i;r=ip(o,i,e+1/3),a=ip(o,i,e),n=ip(o,i,e-1/3)}else r=a=n=s;return{red:Math.round(255*r),green:Math.round(255*a),blue:Math.round(255*n),alpha:i}}(s)),s}let ib=(e,t)=>{let s=iv(e),i=iv(t);if(!s||!i)return ig(e,t);let r={...s};return e=>(r.red=ix(s.red,i.red,e),r.green=ix(s.green,i.green,e),r.blue=ix(s.blue,i.blue,e),r.alpha=sj(s.alpha,i.alpha,e),em.transform(r))},iw=new Set(["none","hidden"]);function ij(e,t){return s=>sj(e,t,s)}function ik(e){return"number"==typeof e?ij:"string"==typeof e?e5(e)?ig:ek.test(e)?ib:iA:Array.isArray(e)?iS:"object"==typeof e?ek.test(e)?ib:iP:ig}function iS(e,t){let s=[...e],i=s.length,r=e.map((e,s)=>ik(e)(e,t[s]));return e=>{for(let t=0;t<i;t++)s[t]=r[t](e);return s}}function iP(e,t){let s={...e,...t},i={};for(let r in s)void 0!==e[r]&&void 0!==t[r]&&(i[r]=ik(e[r])(e[r],t[r]));return e=>{for(let t in i)s[t]=i[t](e);return s}}let iA=(e,t)=>{let s=eR.createTransformer(t),i=eT(e),r=eT(t);if(!(i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length))return eJ(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`,"complex-values-different"),ig(e,t);if(iw.has(e)&&!r.values.length||iw.has(t)&&!i.values.length)return iw.has(e)?s=>s<=0?e:t:s=>s>=1?t:e;return im(iS(function(e,t){let s=[],i={color:0,var:0,number:0};for(let r=0;r<t.values.length;r++){let a=t.types[r],n=e.indexes[a][i[a]],o=e.values[n]??0;s[r]=o,i[a]++}return s}(i,r),r.values),s)};function iN(e,t,s){return"number"==typeof e&&"number"==typeof t&&"number"==typeof s?sj(e,t,s):ik(e)(e,t)}let iT=e=>{let t=({timestamp:t})=>e(t);return{start:(e=!0)=>tf.update(t,e),stop:()=>tg(t),now:()=>tx.isProcessing?tx.timestamp:tJ.now()}};function iC(e){let t=0,s=e.next(t);for(;!s.done&&t<2e4;)t+=50,s=e.next(t);return t>=2e4?1/0:t}function iM(e,t,s){var i,r;let a=Math.max(t-5,0);return i=s-e(a),(r=t-a)?1e3/r*i:0}let iE=.01,iR=2,iV=.005,iD=.5;function iz(e,t){return e*Math.sqrt(1-t*t)}let iF=["duration","bounce"],iL=["stiffness","damping","mass"];function iI(e,t){return t.some(t=>void 0!==e[t])}function i_(e=.3,t=.3){let s,i="object"!=typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e,{restSpeed:r,restDelta:a}=i,n=i.keyframes[0],o=i.keyframes[i.keyframes.length-1],l={done:!1,value:n},{stiffness:u,damping:d,mass:h,duration:c,velocity:m,isResolvedFromDuration:p}=function(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!iI(e,iL)&&iI(e,iF))if(e.visualDuration){let s=2*Math.PI/(1.2*e.visualDuration),i=s*s,r=2*ei(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:1,stiffness:i,damping:r}}else{let s=function({duration:e=800,bounce:t=.3,velocity:s=0,mass:i=1}){let r,a;eJ(e<=tM(10),"Spring duration must be 10 seconds or less","spring-duration-limit");let n=1-t;n=ei(.05,1,n),e=ei(.01,10,e/1e3),n<1?(r=t=>{let i=t*n,r=i*e;return .001-(i-s)/iz(t,n)*Math.exp(-r)},a=t=>{let i=t*n*e,a=Math.pow(n,2)*Math.pow(t,2)*e,o=Math.exp(-i),l=iz(Math.pow(t,2),n);return(i*s+s-a)*o*(-r(t)+.001>0?-1:1)/l}):(r=t=>-.001+Math.exp(-t*e)*((t-s)*e+1),a=t=>e*e*(s-t)*Math.exp(-t*e));let o=function(e,t,s){let i=s;for(let s=1;s<12;s++)i-=e(i)/t(i);return i}(r,a,5/e);if(e=tM(e),isNaN(o))return{stiffness:100,damping:10,duration:e};{let t=Math.pow(o,2)*i;return{stiffness:t,damping:2*n*Math.sqrt(i*t),duration:e}}}(e);(t={...t,...s,mass:1}).isResolvedFromDuration=!0}return t}({...i,velocity:-((i.velocity||0)/1e3)}),f=m||0,g=d/(2*Math.sqrt(u*h)),x=o-n,y=Math.sqrt(u/h)/1e3,v=5>Math.abs(x);if(r||(r=v?iE:iR),a||(a=v?iV:iD),g<1){let e=iz(y,g);s=t=>o-Math.exp(-g*y*t)*((f+g*y*x)/e*Math.sin(e*t)+x*Math.cos(e*t))}else if(1===g)s=e=>o-Math.exp(-y*e)*(x+(f+y*x)*e);else{let e=y*Math.sqrt(g*g-1);s=t=>{let s=Math.exp(-g*y*t),i=Math.min(e*t,300);return o-s*((f+g*y*x)*Math.sinh(i)+e*x*Math.cosh(i))/e}}let b={calculatedDuration:p&&c||null,next:e=>{let t=s(e);if(p)l.done=e>=c;else{let i=0===e?f:0;g<1&&(i=0===e?tM(f):iM(s,e,t));let n=Math.abs(o-t)<=a;l.done=Math.abs(i)<=r&&n}return l.value=l.done?o:t,l},toString:()=>{let e=Math.min(iC(b),2e4),t=tq(t=>b.next(e*t).value,e,30);return e+"ms "+t},toTransition:()=>{}};return b}function iB({keyframes:e,velocity:t=0,power:s=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:a=500,modifyTarget:n,min:o,max:l,restDelta:u=.5,restSpeed:d}){let h,c,m=e[0],p={done:!1,value:m},f=s*t,g=m+f,x=void 0===n?g:n(g);x!==g&&(f=x-m);let y=e=>-f*Math.exp(-e/i),v=e=>x+y(e),b=e=>{let t=y(e),s=v(e);p.done=Math.abs(t)<=u,p.value=p.done?x:s},w=e=>{let t;if(t=p.value,void 0!==o&&t<o||void 0!==l&&t>l){var s;h=e,c=i_({keyframes:[p.value,(s=p.value,void 0===o?l:void 0===l||Math.abs(o-s)<Math.abs(l-s)?o:l)],velocity:iM(v,e,p.value),damping:r,stiffness:a,restDelta:u,restSpeed:d})}};return w(0),{calculatedDuration:null,next:e=>{let t=!1;return(c||void 0!==h||(t=!0,b(e),w(e)),void 0!==h&&e>=h)?c.next(e-h):(t||b(e),p)}}}i_.applyToOptions=e=>{let t=function(e,t=100,s){let i=s({...e,keyframes:[0,t]}),r=Math.min(iC(i),2e4);return{type:"keyframes",ease:e=>i.next(r*e).value/t,duration:r/1e3}}(e,100,i_);return e.ease=t.ease,e.duration=tM(t.duration),e.type="keyframes",e};let iO=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e;function i$(e,t,s,i){return e===t&&s===i?th:r=>0===r||1===r?r:iO(function(e,t,s,i,r){let a,n,o=0;do(a=iO(n=t+(s-t)/2,i,r)-e)>0?s=n:t=n;while(Math.abs(a)>1e-7&&++o<12)return n}(r,0,1,e,s),t,i)}let iU=i$(.42,0,1,1),iq=i$(0,0,.58,1),iW=i$(.42,0,.58,1),iH=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,iY=e=>t=>1-e(1-t),iX=i$(.33,1.53,.69,.99),iK=iY(iX),iG=iH(iK),iZ=e=>(e*=2)<1?.5*iK(e):.5*(2-Math.pow(2,-10*(e-1))),iJ=e=>1-Math.sin(Math.acos(e)),iQ=iY(iJ),i0=iH(iJ),i1={linear:th,easeIn:iU,easeInOut:iW,easeOut:iq,circIn:iJ,circInOut:i0,circOut:iQ,backIn:iK,backInOut:iG,backOut:iX,anticipate:iZ},i2=e=>{if(t$(e)){eQ(4===e.length,"Cubic bezier arrays must contain four numerical values.","cubic-bezier-length");let[t,s,i,r]=e;return i$(t,s,i,r)}return"string"==typeof e?(eQ(void 0!==i1[e],`Invalid easing type '${e}'`,"invalid-easing-type"),i1[e]):e},i5=(e,t,s)=>{let i=t-e;return 0===i?1:(s-e)/i};function i4({duration:e=300,keyframes:t,times:s,ease:i="easeInOut"}){var r;let a,n=Array.isArray(i)&&"number"!=typeof i[0]?i.map(i2):i2(i),o={done:!1,value:t[0]},l=function(e,t,{clamp:s=!0,ease:i,mixer:r}={}){let a=e.length;if(eQ(a===t.length,"Both input and output ranges must be the same length","range-length"),1===a)return()=>t[0];if(2===a&&t[0]===t[1])return()=>t[1];let n=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());let o=function(e,t,s){let i=[],r=s||tc.mix||iN,a=e.length-1;for(let s=0;s<a;s++){let a=r(e[s],e[s+1]);t&&(a=im(Array.isArray(t)?t[s]||th:t,a)),i.push(a)}return i}(t,i,r),l=o.length,u=s=>{if(n&&s<e[0])return t[0];let i=0;if(l>1)for(;i<e.length-2&&!(s<e[i+1]);i++);let r=i5(e[i],e[i+1],s);return o[i](r)};return s?t=>u(ei(e[0],e[a-1],t)):u}((r=s&&s.length===t.length?s:(!function(e,t){let s=e[e.length-1];for(let i=1;i<=t;i++){let r=i5(0,t,i);e.push(sj(s,1,r))}}(a=[0],t.length-1),a),r.map(t=>t*e)),t,{ease:Array.isArray(n)?n:t.map(()=>n||iW).splice(0,t.length-1)});return{calculatedDuration:e,next:t=>(o.value=l(t),o.done=t>=e,o)}}let i3={decay:iB,inertia:iB,tween:i4,keyframes:i4,spring:i_};function i6(e){"string"==typeof e.type&&(e.type=i3[e.type])}let i8=e=>e/100;class i9 extends tB{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{let{motionValue:e}=this.options;e&&e.updatedAt!==tJ.now()&&this.tick(tJ.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),this.options.onStop?.())},tO.mainThread++,this.options=e,this.initAnimation(),this.play(),!1===e.autoplay&&this.pause()}initAnimation(){let{options:e}=this;i6(e);let{type:t=i4,repeat:s=0,repeatDelay:i=0,repeatType:r,velocity:a=0}=e,{keyframes:n}=e,o=t||i4;o!==i4&&"number"!=typeof n[0]&&(this.mixKeyframes=im(i8,iN(n[0],n[1])),n=[0,100]);let l=o({...e,keyframes:n});"mirror"===r&&(this.mirroredGenerator=o({...e,keyframes:[...n].reverse(),velocity:-a})),null===l.calculatedDuration&&(l.calculatedDuration=iC(l));let{calculatedDuration:u}=l;this.calculatedDuration=u,this.resolvedDuration=u+i,this.totalDuration=this.resolvedDuration*(s+1)-i,this.generator=l}updateTime(e){let t=Math.round(e-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){let{generator:s,totalDuration:i,mixKeyframes:r,mirroredGenerator:a,resolvedDuration:n,calculatedDuration:o}=this;if(null===this.startTime)return s.next(0);let{delay:l=0,keyframes:u,repeat:d,repeatType:h,repeatDelay:c,type:m,onUpdate:p,finalKeyframe:f}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);let g=this.currentTime-l*(this.playbackSpeed>=0?1:-1),x=this.playbackSpeed>=0?g<0:g>i;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=i);let y=this.currentTime,v=s;if(d){let e=Math.min(this.currentTime,i)/n,t=Math.floor(e),s=e%1;!s&&e>=1&&(s=1),1===s&&t--,(t=Math.min(t,d+1))%2&&("reverse"===h?(s=1-s,c&&(s-=c/n)):"mirror"===h&&(v=a)),y=ei(0,1,s)*n}let b=x?{done:!1,value:u[0]}:v.next(y);r&&(b.value=r(b.value));let{done:w}=b;x||null===o||(w=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);let j=null===this.holdTime&&("finished"===this.state||"running"===this.state&&w);return j&&m!==iB&&(b.value=t_(u,this.options,f,this.speed)),p&&p(b.value),j&&this.finish(),b}then(e,t){return this.finished.then(e,t)}get duration(){return this.calculatedDuration/1e3}get iterationDuration(){let{delay:e=0}=this.options||{};return this.duration+e/1e3}get time(){return this.currentTime/1e3}set time(e){e=tM(e),this.currentTime=e,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(tJ.now());let t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=this.currentTime/1e3)}play(){if(this.isStopped)return;let{driver:e=iT,startTime:t}=this.options;this.driver||(this.driver=e(e=>this.tick(e))),this.options.onPlay?.();let s=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=s):null!==this.holdTime?this.startTime=s-this.holdTime:this.startTime||(this.startTime=t??s),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(tJ.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null,tO.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}let i7={anticipate:iZ,backInOut:iG,circInOut:i0};class re extends tX{constructor(e){!function(e){"string"==typeof e.ease&&e.ease in i7&&(e.ease=i7[e.ease])}(e),i6(e),super(e),void 0!==e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){let{motionValue:t,onUpdate:s,onComplete:i,element:r,...a}=this.options;if(!t)return;if(void 0!==e)return void t.set(e);let n=new i9({...a,autoplay:!1}),o=Math.max(10,tJ.now()-this.startTime),l=ei(0,10,o-10);t.setWithVelocity(n.sample(Math.max(0,o-l)).value,n.sample(o).value,l),n.stop()}}let rt=(e,t)=>"zIndex"!==t&&!!("number"==typeof e||Array.isArray(e)||"string"==typeof e&&(eR.test(e)||"0"===e)&&!e.startsWith("url("));function rs(e){e.duration=0,e.type="keyframes"}let ri=new Set(["opacity","clipPath","filter","transform"]),rr=tD(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));class ra extends tB{constructor({autoplay:e=!0,delay:t=0,type:s="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:a="loop",keyframes:n,name:o,motionValue:l,element:u,...d}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=tJ.now();const h={autoplay:e,delay:t,type:s,repeat:i,repeatDelay:r,repeatType:a,name:o,motionValue:l,element:u,...d},c=u?.KeyframeResolver||tP;this.keyframeResolver=new c(n,(e,t,s)=>this.onKeyframesResolved(e,t,h,!s),o,l,u),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,s,i){this.keyframeResolver=void 0;let{name:r,type:a,velocity:n,delay:o,isHandoff:l,onUpdate:u}=s;this.resolvedAt=tJ.now(),!function(e,t,s,i){let r=e[0];if(null===r)return!1;if("display"===t||"visibility"===t)return!0;let a=e[e.length-1],n=rt(r,t),o=rt(a,t);return eJ(n===o,`You are trying to animate ${t} from "${r}" to "${a}". "${n?a:r}" is not an animatable value.`,"value-not-animatable"),!!n&&!!o&&(function(e){let t=e[0];if(1===e.length)return!0;for(let s=0;s<e.length;s++)if(e[s]!==t)return!0}(e)||("spring"===s||tY(s))&&i)}(e,r,a,n)&&((tc.instantAnimations||!o)&&u?.(t_(e,s,t)),e[0]=e[e.length-1],rs(s),s.repeat=0);let d={startTime:i?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:t,...s,keyframes:e},h=!l&&function(e){let{motionValue:t,name:s,repeatDelay:i,repeatType:r,damping:a,type:n}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;let{onUpdate:o,transformTemplate:l}=t.owner.getProps();return rr()&&s&&ri.has(s)&&("transform"!==s||!l)&&!o&&!i&&"mirror"!==r&&0!==a&&"inertia"!==n}(d),c=d.motionValue?.owner?.current,m=h?new re({...d,element:c}):new i9(d);m.finished.then(()=>{this.notifyFinished()}).catch(th),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),tj=!0,tS(),tk(),tj=!1),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}let rn={type:"spring",stiffness:500,damping:25,restSpeed:10},ro={type:"keyframes",duration:.8},rl={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ru=e=>null!==e,rd=(e,t,s,i={},r,a)=>n=>{let o=iu(i,e)||{},l=o.delay||i.delay||0,{elapsed:u=0}=i;u-=tM(l);let d={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-u,onUpdate:e=>{t.set(e),o.onUpdate&&o.onUpdate(e)},onComplete:()=>{n(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:a?void 0:r};!function({when:e,delay:t,delayChildren:s,staggerChildren:i,staggerDirection:r,repeat:a,repeatType:n,repeatDelay:o,from:l,elapsed:u,...d}){return!!Object.keys(d).length}(o)&&Object.assign(d,((e,{keyframes:t})=>t.length>2?ro:es.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===t[1]?2*Math.sqrt(550):30,restSpeed:10}:rn:rl)(e,d)),d.duration&&(d.duration=tM(d.duration)),d.repeatDelay&&(d.repeatDelay=tM(d.repeatDelay)),void 0!==d.from&&(d.keyframes[0]=d.from);let h=!1;if(!1!==d.type&&(0!==d.duration||d.repeatDelay)||(rs(d),0===d.delay&&(h=!0)),(tc.instantAnimations||tc.skipAnimations||r?.shouldSkipAnimations)&&(h=!0,rs(d),d.delay=0),d.allowFlatten=!o.type&&!o.ease,h&&!a&&void 0!==t.get()){let e=function(e,{repeat:t,repeatType:s="loop"},i){let r=e.filter(ru),a=t&&"loop"!==s&&t%2==1?0:r.length-1;return r[a]}(d.keyframes,o);if(void 0!==e)return void tf.update(()=>{d.onUpdate(e),d.onComplete()})}return o.isSync?new i9(d):new ra(d)};function rh(e,t,{delay:s=0,transitionOverride:i,type:r}={}){let{transition:a,transitionEnd:n,...o}=t,l=e.getDefaultTransition();a=a?il(a,l):l;let u=a?.reduceMotion;i&&(a=i);let d=[],h=r&&e.animationState&&e.animationState.getState()[r];for(let t in o){let i=e.getValue(t,e.latestValues[t]??null),r=o[t];if(void 0===r||h&&function({protectedKeys:e,needsAnimating:t},s){let i=e.hasOwnProperty(s)&&!0!==t[s];return t[s]=!1,i}(h,t))continue;let n={delay:s,...iu(a||{},t)},l=i.get();if(void 0!==l&&!i.isAnimating&&!Array.isArray(r)&&r===l&&!n.velocity)continue;let c=!1;if(window.MotionHandoffAnimation){let s=e.props[ie];if(s){let e=window.MotionHandoffAnimation(s,t,tf);null!==e&&(n.startTime=e,c=!0)}}ih(e,t);let m=u??e.shouldReduceMotion;i.start(rd(t,i,r,m&&eY.has(t)?{type:!1}:n,e,c));let p=i.animation;p&&d.push(p)}if(n){let t=()=>tf.update(()=>{n&&function(e,t){let{transitionEnd:s={},transition:i={},...r}=io(e,t)||{};for(let t in r={...r,...s}){var a;let s=id(a=r[t])?a[a.length-1]||0:a;e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,t0(s))}}(e,n)});d.length?Promise.all(d).then(t):t()}return d}function rc(e,t,s,i=0,r=1){let a=Array.from(e).sort((e,t)=>e.sortNodePosition(t)).indexOf(t),n=e.size,o=(n-1)*i;return"function"==typeof s?s(a,n):1===r?a*i:o-a*i}function rm(e,t,s={}){let i=io(e,t,"exit"===s.type?e.presenceContext?.custom:void 0),{transition:r=e.getDefaultTransition()||{}}=i||{};s.transitionOverride&&(r=s.transitionOverride);let a=i?()=>Promise.all(rh(e,i,s)):()=>Promise.resolve(),n=e.variantChildren&&e.variantChildren.size?(i=0)=>{let{delayChildren:a=0,staggerChildren:n,staggerDirection:o}=r;return function(e,t,s=0,i=0,r=0,a=1,n){let o=[];for(let l of e.variantChildren)l.notify("AnimationStart",t),o.push(rm(l,t,{...n,delay:s+("function"==typeof i?0:i)+rc(e.variantChildren,l,i,r,a)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(o)}(e,t,i,a,n,o,s)}:()=>Promise.resolve(),{when:o}=r;if(!o)return Promise.all([a(),n(s.delay)]);{let[e,t]="beforeChildren"===o?[a,n]:[n,a];return e().then(()=>t())}}let rp=t6.length;function rf(e,t){if(!Array.isArray(t))return!1;let s=t.length;if(s!==e.length)return!1;for(let i=0;i<s;i++)if(t[i]!==e[i])return!1;return!0}let rg=[...t3].reverse(),rx=t3.length;function ry(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function rv(){return{animate:ry(!0),whileInView:ry(),whileHover:ry(),whileTap:ry(),whileDrag:ry(),whileFocus:ry(),exit:ry()}}let rb=0;function rw(e){return[e("x"),e("y")]}let rj=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]),rk=new Set(["INPUT","SELECT","TEXTAREA"]);function rS(e,t,s,i={passive:!0}){return e.addEventListener(t,s,i),()=>e.removeEventListener(t,s)}let rP={x:!1,y:!1};function rA(e){return e.max-e.min}function rN(e,t,s,i=.5){e.origin=i,e.originPoint=sj(t.min,t.max,e.origin),e.scale=rA(s)/rA(t),e.translate=sj(s.min,s.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function rT(e,t,s,i){rN(e.x,t.x,s.x,i?i.originX:void 0),rN(e.y,t.y,s.y,i?i.originY:void 0)}function rC(e,t,s){e.min=s.min+t.min,e.max=e.min+rA(t)}function rM(e,t,s){e.min=t.min-s.min,e.max=e.min+rA(t)}function rE(e,t,s){rM(e.x,t.x,s.x),rM(e.y,t.y,s.y)}function rR(e){return"object"==typeof e&&null!==e}function rV(e){return rR(e)&&"ownerSVGElement"in e}function rD(e,t,s){if(null==e)return[];if(e instanceof EventTarget)return[e];if("string"==typeof e){let i=document;t&&(i=t.current);let r=s?.[e]??i.querySelectorAll(e);return r?Array.from(r):[]}return Array.from(e).filter(e=>null!=e)}let rz=new WeakMap,rF=(e,t,s)=>(i,r)=>r&&r[0]?r[0][e+"Size"]:rV(i)&&"getBBox"in i?i.getBBox()[t]:i[s],rL=rF("inline","width","offsetWidth"),rI=rF("block","height","offsetHeight");function r_({target:e,borderBoxSize:t}){rz.get(e)?.forEach(s=>{s(e,{get width(){return rL(e,t)},get height(){return rI(e,t)}})})}function rB(e){e.forEach(r_)}let rO=new Set;function r$(e,t){let r;return"function"==typeof e?(rO.add(e),i||(i=()=>{let e={get width(){return window.innerWidth},get height(){return window.innerHeight}};rO.forEach(t=>t(e))},window.addEventListener("resize",i)),()=>{rO.delete(e),rO.size||"function"!=typeof i||(window.removeEventListener("resize",i),i=void 0)}):(!s&&"u">typeof ResizeObserver&&(s=new ResizeObserver(rB)),(r=rD(e)).forEach(e=>{let i=rz.get(e);i||(i=new Set,rz.set(e,i)),i.add(t),s?.observe(e)}),()=>{r.forEach(e=>{let i=rz.get(e);i?.delete(t),i?.size||s?.unobserve(e)})})}let rU=e=>"mouse"===e.pointerType?"number"!=typeof e.button||e.button<=0:!1!==e.isPrimary;function rq(e){return{point:{x:e.pageX,y:e.pageY}}}function rW(e,t,s,i){return rS(e,t,e=>rU(e)&&s(e,rq(e)),i)}let rH=({current:e})=>e?e.ownerDocument.defaultView:null,rY=(e,t)=>Math.abs(e-t),rX=new Set(["auto","scroll"]);class rK{constructor(e,t,{transformPagePoint:s,contextWindow:i=window,dragSnapToOrigin:r=!1,distanceThreshold:a=3,element:n}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=e=>{this.handleScroll(e.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{var e,t;if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let s=rJ(this.lastMoveEventInfo,this.history),i=null!==this.startEvent,r=(e=s.offset,t={x:0,y:0},Math.sqrt(rY(e.x,t.x)**2+rY(e.y,t.y)**2)>=this.distanceThreshold);if(!i&&!r)return;let{point:a}=s,{timestamp:n}=tx;this.history.push({...a,timestamp:n});let{onStart:o,onMove:l}=this.handlers;i||(o&&o(this.lastMoveEvent,s),this.startEvent=this.lastMoveEvent),l&&l(this.lastMoveEvent,s)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=rG(t,this.transformPagePoint),tf.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();let{onEnd:s,onSessionEnd:i,resumeAnimation:r}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&r&&r(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let a=rJ("pointercancel"===e.type?this.lastMoveEventInfo:rG(t,this.transformPagePoint),this.history);this.startEvent&&s&&s(e,a),i&&i(e,a)},!rU(e))return;this.dragSnapToOrigin=r,this.handlers=t,this.transformPagePoint=s,this.distanceThreshold=a,this.contextWindow=i||window;const o=rG(rq(e),this.transformPagePoint),{point:l}=o,{timestamp:u}=tx;this.history=[{...l,timestamp:u}];const{onSessionStart:d}=t;d&&d(e,rJ(o,this.history)),this.removeListeners=im(rW(this.contextWindow,"pointermove",this.handlePointerMove),rW(this.contextWindow,"pointerup",this.handlePointerUp),rW(this.contextWindow,"pointercancel",this.handlePointerUp)),n&&this.startScrollTracking(n)}startScrollTracking(e){let t=e.parentElement;for(;t;){let e=getComputedStyle(t);(rX.has(e.overflowX)||rX.has(e.overflowY))&&this.scrollPositions.set(t,{x:t.scrollLeft,y:t.scrollTop}),t=t.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){let t=this.scrollPositions.get(e);if(!t)return;let s=e===window,i=s?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},r={x:i.x-t.x,y:i.y-t.y};(0!==r.x||0!==r.y)&&(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=r.x,this.lastMoveEventInfo.point.y+=r.y):this.history.length>0&&(this.history[0].x-=r.x,this.history[0].y-=r.y),this.scrollPositions.set(e,i),tf.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),tg(this.updatePoint)}}function rG(e,t){return t?{point:t(e.point)}:e}function rZ(e,t){return{x:e.x-t.x,y:e.y-t.y}}function rJ({point:e},t){return{point:e,delta:rZ(e,rQ(t)),offset:rZ(e,t[0]),velocity:function(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,i=null,r=rQ(e);for(;s>=0&&(i=e[s],!(r.timestamp-i.timestamp>tM(.1)));)s--;if(!i)return{x:0,y:0};i===e[0]&&e.length>2&&r.timestamp-i.timestamp>2*tM(.1)&&(i=e[1]);let a=(r.timestamp-i.timestamp)/1e3;if(0===a)return{x:0,y:0};let n={x:(r.x-i.x)/a,y:(r.y-i.y)/a};return n.x===1/0&&(n.x=0),n.y===1/0&&(n.y=0),n}(t,.1)}}function rQ(e){return e[e.length-1]}function r0(e,t,s){return{min:void 0!==t?e.min+t:void 0,max:void 0!==s?e.max+s-(e.max-e.min):void 0}}function r1(e,t){let s=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,i]=[i,s]),{min:s,max:i}}function r2(e,t,s){return{min:r5(e,t),max:r5(e,s)}}function r5(e,t){return"number"==typeof e?e:e[t]||0}let r4=new WeakMap;class r3{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=eW(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:s}={}){let{presenceContext:i}=this.visualElement;if(i&&!1===i.isPresent)return;let r=e=>{t&&this.snapToCursor(rq(e).point),this.stopAnimation()},a=(e,t)=>{let{drag:s,dragPropagation:i,onDragStart:r}=this.getProps();if(s&&!i&&(this.openDragLock&&this.openDragLock(),this.openDragLock=function(e){if("x"===e||"y"===e)if(rP[e])return null;else return rP[e]=!0,()=>{rP[e]=!1};return rP.x||rP.y?null:(rP.x=rP.y=!0,()=>{rP.x=rP.y=!1})}(s),!this.openDragLock))return;this.latestPointerEvent=e,this.latestPanInfo=t,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),rw(e=>{let t=this.getAxisMotionValue(e).get()||0;if(ex.test(t)){let{projection:s}=this.visualElement;if(s&&s.layout){let i=s.layout.layoutBox[e];i&&(t=rA(i)*(parseFloat(t)/100))}}this.originPoint[e]=t}),r&&tf.update(()=>r(e,t),!1,!0),ih(this.visualElement,"transform");let{animationState:a}=this.visualElement;a&&a.setActive("whileDrag",!0)},n=(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t;let{dragPropagation:s,dragDirectionLock:i,onDirectionLock:r,onDrag:a}=this.getProps();if(!s&&!this.openDragLock)return;let{offset:n}=t;if(i&&null===this.currentDirection){this.currentDirection=function(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}(n),null!==this.currentDirection&&r&&r(this.currentDirection);return}this.updateAxis("x",t.point,n),this.updateAxis("y",t.point,n),this.visualElement.render(),a&&tf.update(()=>a(e,t),!1,!0)},o=(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t,this.stop(e,t),this.latestPointerEvent=null,this.latestPanInfo=null},l=()=>{let{dragSnapToOrigin:e}=this.getProps();(e||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:u}=this.getProps();this.panSession=new rK(e,{onSessionStart:r,onStart:a,onMove:n,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:s,contextWindow:rH(this.visualElement),element:this.visualElement.current})}stop(e,t){let s=e||this.latestPointerEvent,i=t||this.latestPanInfo,r=this.isDragging;if(this.cancel(),!r||!i||!s)return;let{velocity:a}=i;this.startAnimation(a);let{onDragEnd:n}=this.getProps();n&&tf.postRender(()=>n(s,i))}cancel(){this.isDragging=!1;let{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();let{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,t,s){let{drag:i}=this.getProps();if(!s||!r8(e,i,this.currentDirection))return;let r=this.getAxisMotionValue(e),a=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(a=function(e,{min:t,max:s},i){return void 0!==t&&e<t?e=i?sj(t,e,i.min):Math.max(e,t):void 0!==s&&e>s&&(e=i?sj(s,e,i.max):Math.min(e,s)),e}(a,this.constraints[e],this.elastic[e])),r.set(a)}resolveConstraints(){let{dragConstraints:e,dragElastic:t}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&is(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=function(e,{top:t,left:s,bottom:i,right:r}){return{x:r0(e.x,s,r),y:r0(e.y,t,i)}}(s.layoutBox,e):this.constraints=!1,this.elastic=function(e=.35){return!1===e?e=0:!0===e&&(e=.35),{x:r2(e,"left","right"),y:r2(e,"top","bottom")}}(t),i!==this.constraints&&!is(e)&&s&&this.constraints&&!this.hasMutatedConstraints&&rw(e=>{var t,i;let r;!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=(t=s.layoutBox[e],i=this.constraints[e],r={},void 0!==i.min&&(r.min=i.min-t.min),void 0!==i.max&&(r.max=i.max-t.min),r))})}resolveRefConstraints(){var e;let{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!is(t))return!1;let i=t.current;eQ(null!==i,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.","drag-constraints-ref");let{projection:r}=this.visualElement;if(!r||!r.layout)return!1;let a=function(e,t,s){let i=s_(e,s),{scroll:r}=t;return r&&(sF(i.x,r.offset.x),sF(i.y,r.offset.y)),i}(i,r.root,this.visualElement.getTransformPagePoint()),n=(e=r.layout.layoutBox,{x:r1(e.x,a.x),y:r1(e.y,a.y)});if(s){let e=s(function({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}(n));this.hasMutatedConstraints=!!e,e&&(n=sT(e))}return n}startAnimation(e){let{drag:t,dragMomentum:s,dragElastic:i,dragTransition:r,dragSnapToOrigin:a,onDragTransitionEnd:n}=this.getProps(),o=this.constraints||{};return Promise.all(rw(n=>{if(!r8(n,t,this.currentDirection))return;let l=o&&o[n]||{};a&&(l={min:0,max:0});let u={type:"inertia",velocity:s?e[n]:0,bounceStiffness:i?200:1e6,bounceDamping:i?40:1e7,timeConstant:750,restDelta:1,restSpeed:10,...r,...l};return this.startAxisValueAnimation(n,u)})).then(n)}startAxisValueAnimation(e,t){let s=this.getAxisMotionValue(e);return ih(this.visualElement,e),s.start(rd(e,s,0,t,this.visualElement,!1))}stopAnimation(){rw(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){let t=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps();return s[t]||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){rw(t=>{let{drag:s}=this.getProps();if(!r8(t,s,this.currentDirection))return;let{projection:i}=this.visualElement,r=this.getAxisMotionValue(t);if(i&&i.layout){let{min:s,max:a}=i.layout.layoutBox[t],n=r.get()||0;r.set(e[t]-sj(s,a,.5)+n)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;let{drag:e,dragConstraints:t}=this.getProps(),{projection:s}=this.visualElement;if(!is(t)||!s||!this.constraints)return;this.stopAnimation();let i={x:0,y:0};rw(e=>{let t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){var s,r;let a,n,o,l=t.get();i[e]=(s={min:l,max:l},r=this.constraints[e],a=.5,n=rA(s),(o=rA(r))>n?a=i5(r.min,r.max-n,s.min):n>o&&(a=i5(s.min,s.max-o,r.min)),ei(0,1,a))}});let{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.constraints=!1,this.resolveConstraints(),rw(t=>{if(!r8(t,e,null))return;let s=this.getAxisMotionValue(t),{min:r,max:a}=this.constraints[t];s.set(sj(r,a,i[t]))}),this.visualElement.render()}addListeners(){let e;if(!this.visualElement.current)return;r4.set(this.visualElement,this);let t=this.visualElement.current,s=rW(t,"pointerdown",e=>{let{drag:s,dragListener:i=!0}=this.getProps(),r=e.target,a=r!==t&&(rk.has(r.tagName)||!0===r.isContentEditable);s&&i&&!a&&this.start(e)}),i=()=>{var s,i,r;let a,n,{dragConstraints:o}=this.getProps();is(o)&&o.current&&(this.constraints=this.resolveRefConstraints(),e||(s=t,i=o.current,a=r$(s,r6(r=()=>this.scalePositionWithinConstraints())),n=r$(i,r6(r)),e=()=>{a(),n()}))},{projection:r}=this.visualElement,a=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),tf.read(i);let n=rS(window,"resize",()=>this.scalePositionWithinConstraints()),o=r.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&(rw(t=>{let s=this.getAxisMotionValue(t);s&&(this.originPoint[t]+=e[t].translate,s.set(s.get()+e[t].translate))}),this.visualElement.render())});return()=>{n(),s(),a(),o&&o(),e&&e()}}getProps(){let e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:s=!1,dragPropagation:i=!1,dragConstraints:r=!1,dragElastic:a=.35,dragMomentum:n=!0}=e;return{...e,drag:t,dragDirectionLock:s,dragPropagation:i,dragConstraints:r,dragElastic:a,dragMomentum:n}}}function r6(e){let t=!0;return()=>{if(t){t=!1;return}e()}}function r8(e,t,s){return(!0===t||t===e)&&(null===s||s===e)}let r9=e=>(t,s)=>{e&&tf.update(()=>e(t,s),!1,!0)},r7={hasAnimatedSinceResize:!0,hasEverUpdated:!1};var ae=o;let at=!1;class as extends ae.Component{componentDidMount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:s,layoutId:i}=this.props,{projection:r}=e;r&&(t.group&&t.group.add(r),s&&s.register&&i&&s.register(r),at&&r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),r7.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){let{layoutDependency:t,visualElement:s,drag:i,isPresent:r}=this.props,{projection:a}=s;return a&&(a.isPresent=r,e.layoutDependency!==t&&a.setOptions({...a.options,layoutDependency:t}),at=!0,i||e.layoutDependency!==t||void 0===t||e.isPresent!==r?a.willUpdate():this.safeToRemove(),e.isPresent!==r&&(r?a.promote():a.relegate()||tf.postRender(()=>{let e=a.getStack();e&&e.members.length||this.safeToRemove()}))),null}componentDidUpdate(){let{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),tG.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:s}=this.props,{projection:i}=e;at=!0,i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),s&&s.deregister&&s.deregister(i))}safeToRemove(){let{safeToRemove:e}=this.props;e&&e()}render(){return null}}function ai(e){let[t,s]=function(e=!0){let t=(0,o.useContext)(s1);if(null===t)return[!0,null];let{isPresent:s,onExitComplete:i,register:r}=t,a=(0,o.useId)();(0,o.useEffect)(()=>{if(e)return r(a)},[e]);let n=(0,o.useCallback)(()=>e&&i&&i(a),[a,i,e]);return!s&&i?[!1,n]:[!0]}(),i=(0,ae.useContext)(sU);return(0,n.jsx)(as,{...e,layoutGroup:i,switchLayoutGroup:(0,ae.useContext)(it),isPresent:t,safeToRemove:s})}let ar=["TopLeft","TopRight","BottomLeft","BottomRight"],aa=ar.length,an=e=>"string"==typeof e?parseFloat(e):e,ao=e=>"number"==typeof e||ey.test(e);function al(e,t){return void 0!==e[t]?e[t]:e.borderRadius}let au=ah(0,.5,iQ),ad=ah(.5,.95,th);function ah(e,t,s){return i=>i<e?0:i>t?1:s(i5(e,t,i))}function ac(e,t){e.min=t.min,e.max=t.max}function am(e,t){ac(e.x,t.x),ac(e.y,t.y)}function ap(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function af(e,t,s,i,r){return e-=t,e=i+1/s*(e-i),void 0!==r&&(e=i+1/r*(e-i)),e}function ag(e,t,[s,i,r],a,n){!function(e,t=0,s=1,i=.5,r,a=e,n=e){if(ex.test(t)&&(t=parseFloat(t),t=sj(n.min,n.max,t/100)-n.min),"number"!=typeof t)return;let o=sj(a.min,a.max,i);e===a&&(o-=t),e.min=af(e.min,t,s,o,r),e.max=af(e.max,t,s,o,r)}(e,t[s],t[i],t[r],t.scale,a,n)}let ax=["x","scaleX","originX"],ay=["y","scaleY","originY"];function av(e,t,s,i){ag(e.x,t,ax,s?s.x:void 0,i?i.x:void 0),ag(e.y,t,ay,s?s.y:void 0,i?i.y:void 0)}function ab(e){return 0===e.translate&&1===e.scale}function aw(e){return ab(e.x)&&ab(e.y)}function aj(e,t){return e.min===t.min&&e.max===t.max}function ak(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function aS(e,t){return ak(e.x,t.x)&&ak(e.y,t.y)}function aP(e){return rA(e.x)/rA(e.y)}function aA(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class aN{constructor(){this.members=[]}add(e){tE(this.members,e);for(let t=this.members.length-1;t>=0;t--){let s=this.members[t];if(s===e||s===this.lead||s===this.prevLead)continue;let i=s.instance;i&&!1===i.isConnected&&!1!==s.isPresent&&!s.snapshot&&tR(this.members,s)}e.scheduleRender()}remove(e){if(tR(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){let e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){let t,s=this.members.findIndex(t=>e===t);if(0===s)return!1;for(let e=s;e>=0;e--){let s=this.members[e],i=s.instance;if(!1!==s.isPresent&&(!i||!1!==i.isConnected)){t=s;break}}return!!t&&(this.promote(t),!0)}promote(e,t){let s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender();let i=s.options.layoutDependency,r=e.options.layoutDependency;if(void 0===i||void 0===r||i!==r){let i=s.instance;!(i&&!1===i.isConnected&&!s.snapshot)&&(e.resumeFrom=s,t&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0))}let{crossfade:a}=e.options;!1===a&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{let{options:t,resumingFrom:s}=e;t.onExitComplete&&t.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}let aT=(e,t)=>e.depth-t.depth;class aC{constructor(){this.children=[],this.isDirty=!1}add(e){tE(this.children,e),this.isDirty=!0}remove(e){tR(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(aT),this.isDirty=!1,this.children.forEach(e)}}let aM=["","X","Y","Z"],aE=0;function aR(e,t,s,i){let{latestValues:r}=t;r[e]&&(s[e]=r[e],t.setStaticValue(e,0),i&&(i[e]=0))}function aV({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(e={},s=t?.()){this.id=aE++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(aF),this.nodes.forEach(aU),this.nodes.forEach(aq),this.nodes.forEach(aL)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=s?s.root||s:this,this.path=s?[...s.path,s]:[],this.parent=s,this.depth=s?s.depth+1:0;for(let e=0;e<this.path.length;e++)this.path[e].shouldResetTransform=!0;this.root===this&&(this.nodes=new aC)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new tV),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){let s=this.eventHandlers.get(e);s&&s.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}mount(t){if(this.instance)return;this.isSVG=rV(t)&&!(rV(t)&&"svg"===t.tagName),this.instance=t;let{layoutId:s,layout:i,visualElement:r}=this.options;if(r&&!r.current&&r.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(i||s)&&(this.isLayoutDirty=!0),e){let s,i=0,r=()=>this.root.updateBlockedByResize=!1;tf.read(()=>{i=window.innerWidth}),e(t,()=>{let e=window.innerWidth;if(e!==i){let t,a;i=e,this.root.updateBlockedByResize=!0,s&&s(),t=tJ.now(),a=({timestamp:e})=>{let s=e-t;s>=250&&(tg(a),r(s-250))},tf.setup(a,!0),s=()=>tg(a),r7.hasAnimatedSinceResize&&(r7.hasAnimatedSinceResize=!1,this.nodes.forEach(a$))}})}s&&this.root.registerSharedNode(s,this),!1!==this.options.animate&&r&&(s||i)&&this.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t,hasRelativeLayoutChanged:s,layout:i})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}let a=this.options.transition||r.getDefaultTransition()||aG,{onLayoutAnimationStart:n,onLayoutAnimationComplete:o}=r.getProps(),l=!this.targetLayout||!aS(this.targetLayout,i),u=!t&&s;if(this.options.layoutRoot||this.resumeFrom||u||t&&(l||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);let t={...iu(a,"layout"),onPlay:n,onComplete:o};(r.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t),this.setAnimationOrigin(e,u)}else t||a$(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=i})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);let e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),tg(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){!this.isUpdateBlocked()&&(this.isUpdating=!0,this.nodes&&this.nodes.forEach(aW),this.animationId++)}getTransformTemplate(){let{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&function e(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;let{visualElement:s}=t.options;if(!s)return;let i=s.props[ie];if(window.MotionHasOptimisedAnimation(i,"transform")){let{layout:e,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(i,"transform",tf,!(e||s))}let{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&e(r)}(this),this.root.isUpdating||this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let e=0;e<this.path.length;e++){let t=this.path[e];t.shouldResetTransform=!0,t.updateScroll("snapshot"),t.options.layoutRoot&&t.willUpdate(!1)}let{layoutId:t,layout:s}=this.options;if(void 0===t&&!s)return;let i=this.getTransformTemplate();this.prevTransformTemplateValue=i?i(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(a_);return}if(this.animationId<=this.animationCommitId)return void this.nodes.forEach(aB);this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(aO),this.nodes.forEach(aD),this.nodes.forEach(az)):this.nodes.forEach(aB),this.clearAllSnapshots();let e=tJ.now();tx.delta=ei(0,1e3/60,e-tx.timestamp),tx.timestamp=e,tx.isProcessing=!0,ty.update.process(tx),ty.preRender.process(tx),ty.render.process(tx),tx.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,tG.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(aI),this.sharedNodes.forEach(aH)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,tf.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){tf.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||rA(this.snapshot.measuredBox.x)||rA(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let e=0;e<this.path.length;e++)this.path[e].updateScroll();let e=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=eW(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);let{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e="measure"){let t=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){let t=i(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!r)return;let e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!aw(this.projectionDelta),s=this.getTransformTemplate(),i=s?s(this.latestValues,""):void 0,a=i!==this.prevTransformTemplateValue;e&&this.instance&&(t||sE(this.latestValues)||a)&&(r(this.instance,i),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){var t;let s=this.measurePageBox(),i=this.removeElementScroll(s);return e&&(i=this.removeTransform(i)),aQ((t=i).x),aQ(t.y),{animationId:this.root.animationId,measuredBox:s,layoutBox:i,latestValues:{},source:this.id}}measurePageBox(){let{visualElement:e}=this.options;if(!e)return eW();let t=e.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(a1))){let{scroll:e}=this.root;e&&(sF(t.x,e.offset.x),sF(t.y,e.offset.y))}return t}removeElementScroll(e){let t=eW();if(am(t,e),this.scroll?.wasRoot)return t;for(let s=0;s<this.path.length;s++){let i=this.path[s],{scroll:r,options:a}=i;i!==this.root&&r&&a.layoutScroll&&(r.wasRoot&&am(t,e),sF(t.x,r.offset.x),sF(t.y,r.offset.y))}return t}applyTransform(e,t=!1){let s=eW();am(s,e);for(let e=0;e<this.path.length;e++){let i=this.path[e];!t&&i.options.layoutScroll&&i.scroll&&i!==i.root&&sI(s,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),sE(i.latestValues)&&sI(s,i.latestValues)}return sE(this.latestValues)&&sI(s,this.latestValues),s}removeTransform(e){let t=eW();am(t,e);for(let e=0;e<this.path.length;e++){let s=this.path[e];if(!s.instance||!sE(s.latestValues))continue;sM(s.latestValues)&&s.updateSnapshot();let i=eW();am(i,s.measurePageBox()),av(t,s.latestValues,s.snapshot?s.snapshot.layoutBox:void 0,i)}return sE(this.latestValues)&&av(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==tx.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(e=!1){let t=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=t.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=t.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=t.isSharedProjectionDirty);let s=!!this.resumingFrom||this!==t;if(!(e||s&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;let{layout:i,layoutId:r}=this.options;if(!this.layout||!(i||r))return;this.resolvedRelativeTargetAt=tx.timestamp;let a=this.getClosestProjectingParent();if(a&&this.linkedParentVersion!==a.layoutVersion&&!a.options.layoutRoot&&this.removeRelativeTarget(),this.targetDelta||this.relativeTarget||(a&&a.layout?this.createRelativeTarget(a,this.layout.layoutBox,a.layout.layoutBox):this.removeRelativeTarget()),this.relativeTarget||this.targetDelta){if(this.target||(this.target=eW(),this.targetWithTransforms=eW()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target){var n,o,l;this.forceRelativeParentToResolveTarget(),n=this.target,o=this.relativeTarget,l=this.relativeParent.target,rC(n.x,o.x,l.x),rC(n.y,o.y,l.y)}else this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):am(this.target,this.layout.layoutBox),sz(this.target,this.targetDelta)):am(this.target,this.layout.layoutBox);this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,a&&!!a.resumingFrom==!!this.resumingFrom&&!a.options.layoutScroll&&a.target&&1!==this.animationProgress?this.createRelativeTarget(a,this.target,a.target):this.relativeParent=this.relativeTarget=void 0)}}getClosestProjectingParent(){if(!(!this.parent||sM(this.parent.latestValues)||sR(this.parent.latestValues)))if(this.parent.isProjecting())return this.parent;else return this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(e,t,s){this.relativeParent=e,this.linkedParentVersion=e.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=eW(),this.relativeTargetOrigin=eW(),rE(this.relativeTargetOrigin,t,s),am(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){let e=this.getLead(),t=!!this.resumingFrom||this!==e,s=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(s=!1),t&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(s=!1),this.resolvedRelativeTargetAt===tx.timestamp&&(s=!1),s)return;let{layout:i,layoutId:r}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(i||r))return;am(this.layoutCorrected,this.layout.layoutBox);let a=this.treeScale.x,n=this.treeScale.y;!function(e,t,s,i=!1){let r,a,n=s.length;if(n){t.x=t.y=1;for(let o=0;o<n;o++){a=(r=s[o]).projectionDelta;let{visualElement:n}=r.options;(!n||!n.props.style||"contents"!==n.props.style.display)&&(i&&r.options.layoutScroll&&r.scroll&&r!==r.root&&sI(e,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,sz(e,a)),i&&sE(r.latestValues)&&sI(e,r.latestValues))}t.x<1.0000000000001&&t.x>.999999999999&&(t.x=1),t.y<1.0000000000001&&t.y>.999999999999&&(t.y=1)}}(this.layoutCorrected,this.treeScale,this.path,t),e.layout&&!e.target&&(1!==this.treeScale.x||1!==this.treeScale.y)&&(e.target=e.layout.layoutBox,e.targetWithTransforms=eW());let{target:o}=e;if(!o){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}this.projectionDelta&&this.prevProjectionDelta?(ap(this.prevProjectionDelta.x,this.projectionDelta.x),ap(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),rT(this.projectionDelta,this.layoutCorrected,o,this.latestValues),this.treeScale.x===a&&this.treeScale.y===n&&aA(this.projectionDelta.x,this.prevProjectionDelta.x)&&aA(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",o))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){if(this.options.visualElement?.scheduleRender(),e){let e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=eU(),this.projectionDelta=eU(),this.projectionDeltaWithTransform=eU()}setAnimationOrigin(e,t=!1){let s,i=this.snapshot,r=i?i.latestValues:{},a={...this.latestValues},n=eU();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;let o=eW(),l=(i?i.source:void 0)!==(this.layout?this.layout.source:void 0),u=this.getStack(),d=!u||u.members.length<=1,h=!!(l&&!d&&!0===this.options.crossfade&&!this.path.some(aK));this.animationProgress=0,this.mixTargetDelta=t=>{let i=t/1e3;if(aY(n.x,e.x,i),aY(n.y,e.y,i),this.setTargetDelta(n),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout){var u,c,m,p,f,g;rE(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),m=this.relativeTarget,p=this.relativeTargetOrigin,f=o,g=i,aX(m.x,p.x,f.x,g),aX(m.y,p.y,f.y,g),s&&(u=this.relativeTarget,c=s,aj(u.x,c.x)&&aj(u.y,c.y))&&(this.isProjectionDirty=!1),s||(s=eW()),am(s,this.relativeTarget)}l&&(this.animationValues=a,function(e,t,s,i,r,a){r?(e.opacity=sj(0,s.opacity??1,au(i)),e.opacityExit=sj(t.opacity??1,0,ad(i))):a&&(e.opacity=sj(t.opacity??1,s.opacity??1,i));for(let r=0;r<aa;r++){let a=`border${ar[r]}Radius`,n=al(t,a),o=al(s,a);(void 0!==n||void 0!==o)&&(n||(n=0),o||(o=0),0===n||0===o||ao(n)===ao(o)?(e[a]=Math.max(sj(an(n),an(o),i),0),(ex.test(o)||ex.test(n))&&(e[a]+="%")):e[a]=o)}(t.rotate||s.rotate)&&(e.rotate=sj(t.rotate||0,s.rotate||0,i))}(a,r,this.latestValues,i,h,d)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=i},this.mixTargetDelta(1e3*!!this.options.layoutRoot)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(tg(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=tf.update(()=>{var t,s,i;let r;r7.hasAnimatedSinceResize=!0,tO.layout++,this.motionValue||(this.motionValue=t0(0)),this.motionValue.jump(0,!1),this.currentAnimation=(t=this.motionValue,s=[0,1e3],i={...e,velocity:0,isSync:!0,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{tO.layout--},onComplete:()=>{tO.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}},(r=eH(t)?t:t0(t)).start(rd("",r,s,i)),r.animation),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);let e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){let e=this.getLead(),{targetWithTransforms:t,target:s,layout:i,latestValues:r}=e;if(t&&s&&i){if(this!==e&&this.layout&&i&&a0(this.options.animationType,this.layout.layoutBox,i.layoutBox)){s=this.target||eW();let t=rA(this.layout.layoutBox.x);s.x.min=e.target.x.min,s.x.max=s.x.min+t;let i=rA(this.layout.layoutBox.y);s.y.min=e.target.y.min,s.y.max=s.y.min+i}am(t,s),sI(t,r),rT(this.projectionDeltaWithTransform,this.layoutCorrected,t,r)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new aN),this.sharedNodes.get(e).add(t);let s=t.options.initialPromotionConfig;t.promote({transition:s?s.transition:void 0,preserveFollowOpacity:s&&s.shouldPreserveFollowOpacity?s.shouldPreserveFollowOpacity(t):void 0})}isLead(){let e=this.getStack();return!e||e.lead===this}getLead(){let{layoutId:e}=this.options;return e&&this.getStack()?.lead||this}getPrevLead(){let{layoutId:e}=this.options;return e?this.getStack()?.prevLead:void 0}getStack(){let{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:s}={}){let i=this.getStack();i&&i.promote(this,s),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){let e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){let{visualElement:e}=this.options;if(!e)return;let t=!1,{latestValues:s}=e;if((s.z||s.rotate||s.rotateX||s.rotateY||s.rotateZ||s.skewX||s.skewY)&&(t=!0),!t)return;let i={};s.z&&aR("z",e,i,this.animationValues);for(let t=0;t<aM.length;t++)aR(`rotate${aM[t]}`,e,i,this.animationValues),aR(`skew${aM[t]}`,e,i,this.animationValues);for(let t in e.render(),i)e.setStaticValue(t,i[t]),this.animationValues&&(this.animationValues[t]=i[t]);e.scheduleRender()}applyProjectionStyles(e,t){if(!this.instance||this.isSVG)return;if(!this.isVisible){e.visibility="hidden";return}let s=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,e.visibility="",e.opacity="",e.pointerEvents=s0(t?.pointerEvents)||"",e.transform=s?s(this.latestValues,""):"none";return}let i=this.getLead();if(!this.projectionDelta||!this.layout||!i.target){this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=s0(t?.pointerEvents)||""),this.hasProjected&&!sE(this.latestValues)&&(e.transform=s?s({},""):"none",this.hasProjected=!1);return}e.visibility="";let r=i.animationValues||i.latestValues;this.applyTransformsToTarget();let a=function(e,t,s){let i="",r=e.x.translate/t.x,a=e.y.translate/t.y,n=s?.z||0;if((r||a||n)&&(i=`translate3d(${r}px, ${a}px, ${n}px) `),(1!==t.x||1!==t.y)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),s){let{transformPerspective:e,rotate:t,rotateX:r,rotateY:a,skewX:n,skewY:o}=s;e&&(i=`perspective(${e}px) ${i}`),t&&(i+=`rotate(${t}deg) `),r&&(i+=`rotateX(${r}deg) `),a&&(i+=`rotateY(${a}deg) `),n&&(i+=`skewX(${n}deg) `),o&&(i+=`skewY(${o}deg) `)}let o=e.x.scale*t.x,l=e.y.scale*t.y;return(1!==o||1!==l)&&(i+=`scale(${o}, ${l})`),i||"none"}(this.projectionDeltaWithTransform,this.treeScale,r);s&&(a=s(r,a)),e.transform=a;let{x:n,y:o}=this.projectionDelta;for(let t in e.transformOrigin=`${100*n.origin}% ${100*o.origin}% 0`,i.animationValues?e.opacity=i===this?r.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:r.opacityExit:e.opacity=i===this?void 0!==r.opacity?r.opacity:"":void 0!==r.opacityExit?r.opacityExit:0,sk){if(void 0===r[t])continue;let{correct:s,applyTo:n,isCSSVariable:o}=sk[t],l="none"===a?r[t]:s(r[t],i);if(n){let t=n.length;for(let s=0;s<t;s++)e[n[s]]=l}else o?this.options.visualElement.renderState.vars[t]=l:e[t]=l}this.options.layoutId&&(e.pointerEvents=i===this?s0(t?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>e.currentAnimation?.stop()),this.root.nodes.forEach(a_),this.root.sharedNodes.clear()}}}function aD(e){e.updateLayout()}function az(e){let t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){let{layoutBox:s,measuredBox:i}=e.layout,{animationType:r}=e.options,a=t.source!==e.layout.source;"size"===r?rw(e=>{let i=a?t.measuredBox[e]:t.layoutBox[e],r=rA(i);i.min=s[e].min,i.max=i.min+r}):a0(r,t.layoutBox,s)&&rw(i=>{let r=a?t.measuredBox[i]:t.layoutBox[i],n=rA(s[i]);r.max=r.min+n,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[i].max=e.relativeTarget[i].min+n)});let n=eU();rT(n,s,t.layoutBox);let o=eU();a?rT(o,e.applyTransform(i,!0),t.measuredBox):rT(o,s,t.layoutBox);let l=!aw(n),u=!1;if(!e.resumeFrom){let i=e.getClosestProjectingParent();if(i&&!i.resumeFrom){let{snapshot:r,layout:a}=i;if(r&&a){let n=eW();rE(n,t.layoutBox,r.layoutBox);let o=eW();rE(o,s,a.layoutBox),aS(n,o)||(u=!0),i.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=n,e.relativeParent=i)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:o,layoutDelta:n,hasLayoutChanged:l,hasRelativeLayoutChanged:u})}else if(e.isLead()){let{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function aF(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function aL(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function aI(e){e.clearSnapshot()}function a_(e){e.clearMeasurements()}function aB(e){e.isLayoutDirty=!1}function aO(e){let{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function a$(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function aU(e){e.resolveTargetDelta()}function aq(e){e.calcProjection()}function aW(e){e.resetSkewAndRotation()}function aH(e){e.removeLeadSnapshot()}function aY(e,t,s){e.translate=sj(t.translate,0,s),e.scale=sj(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function aX(e,t,s,i){e.min=sj(t.min,s.min,i),e.max=sj(t.max,s.max,i)}function aK(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}let aG={duration:.45,ease:[.4,0,.1,1]},aZ=e=>"u">typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),aJ=aZ("applewebkit/")&&!aZ("chrome/")?Math.round:th;function aQ(e){e.min=aJ(e.min),e.max=aJ(e.max)}function a0(e,t,s){return"position"===e||"preserve-aspect"===e&&!(.2>=Math.abs(aP(t)-aP(s)))}function a1(e){return e!==e.root&&e.scroll?.wasRoot}let a2=aV({attachResizeListener:(e,t)=>rS(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),a5={current:void 0},a4=aV({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!a5.current){let e=new a2({});e.mount(window),e.setOptions({layoutScroll:!0}),a5.current=e}return a5.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>"fixed"===window.getComputedStyle(e).position});function a3(e,t){let s=rD(e),i=new AbortController;return[s,{passive:!0,...t,signal:i.signal},()=>i.abort()]}function a6(e,t,s){let{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover","Start"===s);let r=i["onHover"+s];r&&tf.postRender(()=>r(t,rq(t)))}let a8=(e,t)=>!!t&&(e===t||a8(e,t.parentElement)),a9=new WeakSet;function a7(e){return t=>{"Enter"===t.key&&e(t)}}function ne(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function nt(e){return rU(e)&&!(rP.x||rP.y)}let ns=new WeakSet;function ni(e,t,s){let{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap","Start"===s);let r=i["onTap"+("End"===s?"":s)];r&&tf.postRender(()=>r(t,rq(t)))}let nr=new WeakMap,na=new WeakMap,nn=e=>{let t=nr.get(e.target);t&&t(e)},no=e=>{e.forEach(nn)},nl={some:0,all:1},nu=function(e,t){if("u"<typeof Proxy)return ir;let s=new Map,i=(s,i)=>ir(s,i,e,t);return new Proxy((e,t)=>i(e,t),{get:(r,a)=>"create"===a?i:(s.has(a)||s.set(a,ir(a,void 0,e,t)),s.get(a))})}({animation:{Feature:class extends ia{constructor(e){super(e),e.animationState||(e.animationState=function(e){let t=t=>Promise.all(t.map(({animation:t,options:s})=>(function(e,t,s={}){let i;if(e.notify("AnimationStart",t),Array.isArray(t))i=Promise.all(t.map(t=>rm(e,t,s)));else if("string"==typeof t)i=rm(e,t,s);else{let r="function"==typeof t?io(e,t,s.custom):t;i=Promise.all(rh(e,r,s))}return i.then(()=>{e.notify("AnimationComplete",t)})})(e,t,s))),s=rv(),i=!0,r=t=>(s,i)=>{let r=io(e,i,"exit"===t?e.presenceContext?.custom:void 0);if(r){let{transition:e,transitionEnd:t,...i}=r;s={...s,...i,...t}}return s};function a(a){let{props:n}=e,o=function e(t){if(!t)return;if(!t.isControllingVariants){let s=t.parent&&e(t.parent)||{};return void 0!==t.props.initial&&(s.initial=t.props.initial),s}let s={};for(let e=0;e<rp;e++){let i=t6[e],r=t.props[i];(t4(r)||!1===r)&&(s[i]=r)}return s}(e.parent)||{},l=[],u=new Set,d={},h=1/0;for(let t=0;t<rx;t++){var c,m;let p=rg[t],f=s[p],g=void 0!==n[p]?n[p]:o[p],x=t4(g),y=p===a?f.isActive:null;!1===y&&(h=t);let v=g===o[p]&&g!==n[p]&&x;if(v&&i&&e.manuallyAnimateOnMount&&(v=!1),f.protectedKeys={...d},!f.isActive&&null===y||!g&&!f.prevProp||t5(g)||"boolean"==typeof g)continue;if("exit"===p&&f.isActive&&!0!==y){f.prevResolvedValues&&(d={...d,...f.prevResolvedValues});continue}let b=(c=f.prevProp,"string"==typeof(m=g)?m!==c:!!Array.isArray(m)&&!rf(m,c)),w=b||p===a&&f.isActive&&!v&&x||t>h&&x,j=!1,k=Array.isArray(g)?g:[g],S=k.reduce(r(p),{});!1===y&&(S={});let{prevResolvedValues:P={}}=f,A={...P,...S},N=t=>{w=!0,u.has(t)&&(j=!0,u.delete(t)),f.needsAnimating[t]=!0;let s=e.getValue(t);s&&(s.liveStyle=!1)};for(let e in A){let t=S[e],s=P[e];if(!d.hasOwnProperty(e))(id(t)&&id(s)?rf(t,s):t===s)?void 0!==t&&u.has(e)?N(e):f.protectedKeys[e]=!0:null!=t?N(e):u.add(e)}f.prevProp=g,f.prevResolvedValues=S,f.isActive&&(d={...d,...S}),i&&e.blockInitialAnimation&&(w=!1);let T=v&&b,C=!T||j;w&&C&&l.push(...k.map(t=>{let s={type:p};if("string"==typeof t&&i&&!T&&e.manuallyAnimateOnMount&&e.parent){let{parent:i}=e,r=io(i,t);if(i.enteringChildren&&r){let{delayChildren:t}=r.transition||{};s.delay=rc(i.enteringChildren,e,t)}}return{animation:t,options:s}}))}if(u.size){let t={};if("boolean"!=typeof n.initial){let s=io(e,Array.isArray(n.initial)?n.initial[0]:n.initial);s&&s.transition&&(t.transition=s.transition)}u.forEach(s=>{let i=e.getBaseTarget(s),r=e.getValue(s);r&&(r.liveStyle=!0),t[s]=i??null}),l.push({animation:t})}let p=!!l.length;return i&&(!1===n.initial||n.initial===n.animate)&&!e.manuallyAnimateOnMount&&(p=!1),i=!1,p?t(l):Promise.resolve()}return{animateChanges:a,setActive:function(t,i){if(s[t].isActive===i)return Promise.resolve();e.variantChildren?.forEach(e=>e.animationState?.setActive(t,i)),s[t].isActive=i;let r=a(t);for(let e in s)s[e].protectedKeys={};return r},setAnimateFunction:function(s){t=s(e)},getState:()=>s,reset:()=>{s=rv()}}}(e))}updateAnimationControlsSubscription(){let{animate:e}=this.node.getProps();t5(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){let{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}},exit:{Feature:class extends ia{constructor(){super(...arguments),this.id=rb++}update(){if(!this.node.presenceContext)return;let{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;let i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then(()=>{t(this.id)})}mount(){let{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}},inView:{Feature:class extends ia{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){var e;let t;this.unmount();let{viewport:s={}}=this.node.getProps(),{root:i,margin:r,amount:a="some",once:n}=s,o={root:i?i.current:void 0,rootMargin:r,threshold:"number"==typeof a?a:nl[a]},l=e=>{let{isIntersecting:t}=e;if(this.isInView===t||(this.isInView=t,n&&!t&&this.hasEnteredView))return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);let{onViewportEnter:s,onViewportLeave:i}=this.node.getProps(),r=t?s:i;r&&r(e)};return e=this.node.current,t=function({root:e,...t}){let s=e||document;na.has(s)||na.set(s,{});let i=na.get(s),r=JSON.stringify(t);return i[r]||(i[r]=new IntersectionObserver(no,{root:e,...t})),i[r]}(o),nr.set(e,l),t.observe(e),()=>{nr.delete(e),t.unobserve(e)}}mount(){this.startObserver()}update(){if("u"<typeof IntersectionObserver)return;let{props:e,prevProps:t}=this.node;["amount","margin","root"].some(function({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}(e,t))&&this.startObserver()}unmount(){}}},tap:{Feature:class extends ia{mount(){let{current:e}=this.node;if(!e)return;let{globalTapTarget:t,propagate:s}=this.node.props;this.unmount=function(e,t,s={}){let[i,r,a]=a3(e,s),n=e=>{let i=e.currentTarget;if(!nt(e)||ns.has(e))return;a9.add(i),s.stopPropagation&&ns.add(e);let a=t(i,e),n=(e,t)=>{window.removeEventListener("pointerup",o),window.removeEventListener("pointercancel",l),a9.has(i)&&a9.delete(i),nt(e)&&"function"==typeof a&&a(e,{success:t})},o=e=>{n(e,i===window||i===document||s.useGlobalTarget||a8(i,e.target))},l=e=>{n(e,!1)};window.addEventListener("pointerup",o,r),window.addEventListener("pointercancel",l,r)};return i.forEach(e=>{(s.useGlobalTarget?window:e).addEventListener("pointerdown",n,r),rR(e)&&"offsetHeight"in e&&(e.addEventListener("focus",e=>((e,t)=>{let s=e.currentTarget;if(!s)return;let i=a7(()=>{if(a9.has(s))return;ne(s,"down");let e=a7(()=>{ne(s,"up")});s.addEventListener("keyup",e,t),s.addEventListener("blur",()=>ne(s,"cancel"),t)});s.addEventListener("keydown",i,t),s.addEventListener("blur",()=>s.removeEventListener("keydown",i),t)})(e,r)),rj.has(e.tagName)||!0===e.isContentEditable||e.hasAttribute("tabindex")||(e.tabIndex=0))}),a}(e,(e,t)=>(ni(this.node,t,"Start"),(e,{success:t})=>ni(this.node,e,t?"End":"Cancel")),{useGlobalTarget:t,stopPropagation:s?.tap===!1})}unmount(){}}},focus:{Feature:class extends ia{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(t){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=im(rS(this.node.current,"focus",()=>this.onFocus()),rS(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends ia{mount(){let{current:e}=this.node;e&&(this.unmount=function(e,t,s={}){let[i,r,a]=a3(e,s);return i.forEach(e=>{let s,i=!1,a=!1,n=t=>{s&&(s(t),s=void 0),e.removeEventListener("pointerleave",l)},o=e=>{i=!1,window.removeEventListener("pointerup",o),window.removeEventListener("pointercancel",o),a&&(a=!1,n(e))},l=e=>{if("touch"!==e.pointerType){if(i){a=!0;return}n(e)}};e.addEventListener("pointerenter",i=>{if("touch"===i.pointerType||rP.x||rP.y)return;a=!1;let n=t(e,i);"function"==typeof n&&(s=n,e.addEventListener("pointerleave",l,r))},r),e.addEventListener("pointerdown",()=>{i=!0,window.addEventListener("pointerup",o,r),window.addEventListener("pointercancel",o,r)},r)}),a}(e,(e,t)=>(a6(this.node,t,"Start"),e=>a6(this.node,e,"End"))))}unmount(){}}},pan:{Feature:class extends ia{constructor(){super(...arguments),this.removePointerDownListener=th}onPointerDown(e){this.session=new rK(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:rH(this.node)})}createPanHandlers(){let{onPanSessionStart:e,onPanStart:t,onPan:s,onPanEnd:i}=this.node.getProps();return{onSessionStart:r9(e),onStart:r9(t),onMove:r9(s),onEnd:(e,t)=>{delete this.session,i&&tf.postRender(()=>i(e,t))}}}mount(){this.removePointerDownListener=rW(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends ia{constructor(e){super(e),this.removeGroupControls=th,this.removeListeners=th,this.controls=new r3(e)}mount(){let{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||th}update(){let{dragControls:e}=this.node.getProps(),{dragControls:t}=this.node.prevProps||{};e!==t&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}},ProjectionNode:a4,MeasureLayout:ai},layout:{ProjectionNode:a4,MeasureLayout:ai}},(e,t)=>t.isSVG??s$(e)?new sN(t):new sB(t,{allowProjection:e!==o.Fragment}));function nd({analysis:e}){return e&&e.words?(0,n.jsxs)("div",{className:"jsx-bc09cb6dca42fda4 w-full h-full p-8 bg-white/40 backdrop-blur-sm rounded-3xl flex flex-wrap justify-center gap-x-4 gap-y-6 dir-rtl text-right overflow-y-auto custom-scrollbar",children:[e.words.map((e,t)=>(0,n.jsxs)(nu.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.03*t,type:"spring",stiffness:260,damping:20},className:"group relative",children:[(0,n.jsx)("span",{dir:"rtl",className:"jsx-bc09cb6dca42fda4 "+(V("text-4xl md:text-6xl font-quran leading-[1.8] transition-all duration-500 block px-2 rounded-xl",e.valid?"text-slate-800 hover:bg-emerald-50 hover:text-emerald-700":"text-rose-500 bg-rose-50/50 decoration-rose-200 decoration-wavy underline underline-offset-8")||""),children:e.text}),(0,n.jsxs)("div",{className:"jsx-bc09cb6dca42fda4 absolute bottom-full left-1/2 -translate-x-1/2 mb-6 w-64 p-4 bg-white/95 backdrop-blur shadow-2xl rounded-2xl opacity-0 group-hover:opacity-100 transition-all duration-300 pointer-events-none z-50 border border-slate-100 scale-95 group-hover:scale-100 translate-y-2 group-hover:translate-y-0",children:[(0,n.jsxs)("div",{className:"jsx-bc09cb6dca42fda4 flex items-center justify-between mb-3",children:[(0,n.jsx)("span",{className:"jsx-bc09cb6dca42fda4 text-lg font-quran font-bold text-slate-800",children:e.text}),(0,n.jsx)("div",{className:"jsx-bc09cb6dca42fda4 "+(V("px-2 py-1 rounded-full text-[10px] font-black uppercase tracking-widest",e.valid?"bg-emerald-100 text-emerald-600":"bg-rose-100 text-rose-600")||""),children:e.valid?"Correct":"Erreur"})]}),(0,n.jsxs)("div",{className:"jsx-bc09cb6dca42fda4 space-y-2",children:[(0,n.jsxs)("div",{className:"jsx-bc09cb6dca42fda4 flex justify-between items-center text-[10px] text-slate-400 font-bold uppercase tracking-tighter",children:[(0,n.jsx)("span",{className:"jsx-bc09cb6dca42fda4",children:"Confiance IA"}),(0,n.jsxs)("span",{className:"jsx-bc09cb6dca42fda4",children:[Math.round(100*e.confidence),"%"]})]}),(0,n.jsx)("div",{className:"jsx-bc09cb6dca42fda4 w-full bg-slate-100 h-1 rounded-full overflow-hidden",children:(0,n.jsx)("div",{style:{width:`${100*e.confidence}%`},className:"jsx-bc09cb6dca42fda4 "+(V("h-full transition-all duration-1000",e.valid?"bg-emerald-400":"bg-rose-400")||"")})})]}),e.tajweed_rules.length>0&&(0,n.jsxs)("div",{className:"jsx-bc09cb6dca42fda4 mt-4 pt-4 border-t border-slate-50 space-y-2",children:[(0,n.jsx)("p",{className:"jsx-bc09cb6dca42fda4 text-[9px] font-black text-slate-300 uppercase tracking-widest leading-none",children:"Règles de Tajweed"}),e.tajweed_rules.map((e,t)=>(0,n.jsxs)("div",{className:"jsx-bc09cb6dca42fda4 flex items-center justify-between",children:[(0,n.jsx)("span",{className:"jsx-bc09cb6dca42fda4 text-xs font-bold text-slate-700",children:e.rule}),(0,n.jsxs)("span",{className:"jsx-bc09cb6dca42fda4 text-[10px] text-emerald-500 font-medium lowercase",children:["✓ ",e.status]})]},t))]}),e.feedback&&(0,n.jsx)("div",{className:"jsx-bc09cb6dca42fda4 mt-3 p-2 bg-rose-50/50 rounded-lg border border-rose-100/50",children:(0,n.jsxs)("p",{className:"jsx-bc09cb6dca42fda4 text-[11px] text-rose-700 leading-snug font-medium italic",children:['"',e.feedback,'"']})}),(0,n.jsx)("div",{className:"jsx-bc09cb6dca42fda4 absolute top-full left-1/2 -translate-x-1/2 border-8 border-transparent border-t-white"})]})]},t)),(0,n.jsx)(ee.default,{id:"bc09cb6dca42fda4",children:".custom-scrollbar.jsx-bc09cb6dca42fda4::-webkit-scrollbar{width:4px}.custom-scrollbar.jsx-bc09cb6dca42fda4::-webkit-scrollbar-track{background:0 0}.custom-scrollbar.jsx-bc09cb6dca42fda4::-webkit-scrollbar-thumb{background:#e2e8f0;border-radius:10px}"})]}):null}function nh({page:e,isOpen:t,onClose:s,onNext:i,onPrev:r,currentStatus:a,onStatusChange:l}){let[u,d]=(0,o.useState)(!1),[h,c]=(0,o.useState)(!0),[m,p]=(0,o.useState)(1),[g,x]=(0,o.useState)(null),[y,v]=(0,o.useState)(0);return((0,o.useEffect)(()=>{let e=e=>{"Escape"===e.key&&s()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[s]),(0,o.useEffect)(()=>{d(!1),c(!0),x(null)},[e]),t)?(0,n.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 sm:p-6",role:"dialog","aria-modal":"true",children:[(0,n.jsx)("div",{className:"absolute inset-0 bg-slate-900/80 backdrop-blur-sm transition-opacity",onClick:s}),(0,n.jsxs)("div",{className:"relative bg-white rounded-3xl shadow-2xl w-full max-w-6xl h-[90vh] overflow-hidden flex flex-col md:flex-row z-10 animate-in fade-in zoom-in-95 duration-200",children:[(0,n.jsxs)("div",{className:"flex-1 bg-[#fdfbf7] relative flex flex-col items-center justify-center border-r border-slate-200 overflow-hidden",children:[g&&(0,n.jsxs)("div",{className:"absolute inset-0 z-40 bg-[#fdfbf7]/90 backdrop-blur-md p-8 flex flex-col items-center justify-center animate-in fade-in slide-in-from-bottom-8 duration-500",children:[(0,n.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,n.jsx)(nd,{analysis:g.analysis})}),(0,n.jsx)("button",{onClick:()=>x(null),className:"absolute top-4 right-4 p-2 bg-white shadow-md rounded-full text-slate-400 hover:text-slate-600 transition-colors z-50",title:"Fermer l'analyse",children:(0,n.jsx)(j,{size:20})}),(0,n.jsxs)("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 flex items-center gap-2 px-4 py-2 bg-white/80 rounded-full border border-slate-100 shadow-sm",children:[(0,n.jsx)("span",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),(0,n.jsx)("span",{className:"text-[10px] font-black uppercase text-slate-400 tracking-widest",children:"Analyse IA Détailé"})]})]}),(0,n.jsx)("button",{onClick:s,className:"md:hidden absolute top-4 left-4 p-2 bg-white/50 rounded-full text-slate-500 hover:bg-white transition-colors z-30",children:(0,n.jsx)(j,{size:24})}),(0,n.jsxs)("div",{className:"absolute top-6 w-full text-center z-10 pointer-events-none",children:[(0,n.jsx)("h3",{className:"text-xl font-bold text-slate-800 font-display",children:F(e)}),(0,n.jsxs)("p",{className:"text-sm text-primary font-medium tracking-wide",children:["Page ",e]})]}),!u&&r&&(0,n.jsx)("button",{onClick:r,className:"absolute left-4 top-1/2 -translate-y-1/2 p-3 rounded-full bg-white/80 shadow-lg hover:bg-white hover:scale-110 transition-all text-slate-400 hover:text-primary z-20",children:(0,n.jsx)(B,{size:24})}),!u&&i&&(0,n.jsx)("button",{onClick:i,className:"absolute right-4 top-1/2 -translate-y-1/2 p-3 rounded-full bg-white/80 shadow-lg hover:bg-white hover:scale-110 transition-all text-slate-400 hover:text-primary z-20",children:(0,n.jsx)(O,{size:24})}),(0,n.jsx)("div",{className:V("absolute inset-0 z-10 bg-slate-100/90 backdrop-blur-xl flex flex-col items-center justify-center transition-opacity duration-500",u&&!h?"opacity-100":"opacity-0 pointer-events-none"),children:(0,n.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-xl text-center max-w-sm mx-4",children:[(0,n.jsx)("div",{className:"w-16 h-16 bg-blue-50 rounded-full flex items-center justify-center mx-auto mb-4 text-primary",children:(0,n.jsx)($,{size:32})}),(0,n.jsx)("h3",{className:"text-xl font-bold text-slate-800 mb-2",children:"Mode Récitation"}),(0,n.jsx)("p",{className:"text-slate-500",children:"La page est masquée pour tester votre mémorisation."}),(0,n.jsx)("button",{onClick:()=>c(!0),className:"mt-6 px-4 py-2 bg-slate-100 hover:bg-slate-200 text-slate-600 rounded-lg text-sm font-medium transition-colors",children:"J'ai besoin de voir (Tricher)"})]})}),(0,n.jsx)("div",{className:V("w-full h-full p-4 md:p-12 flex items-center justify-center transition-all duration-500",u&&!h?"scale-90 blur-sm grayscale opacity-20":"scale-100 opacity-100"),children:(0,n.jsx)("img",{src:`http://localhost:8001/api/v1/quran_pages/${e}.jpg`,alt:`Page ${e}`,className:"max-w-full max-h-full object-contain shadow-lg rounded-sm",onError:e=>{e.target.src="https://via.placeholder.com/400x600?text=Page+Introuvable"}})})]}),(0,n.jsxs)("div",{className:"w-full md:w-[400px] flex flex-col bg-white",children:[(0,n.jsxs)("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[(0,n.jsx)("h2",{className:"text-2xl font-bold font-display text-slate-800",children:"Validation"}),(0,n.jsx)("button",{onClick:s,className:"p-2 hover:bg-slate-100 rounded-full transition-colors text-slate-400",children:(0,n.jsx)(j,{size:24})})]}),(0,n.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 scrollbar-hide",children:[(0,n.jsxs)("div",{className:"mb-6 p-4 bg-slate-50 rounded-xl border border-slate-100",children:[(0,n.jsx)("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-3",children:"État d'avancement"}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,n.jsxs)("button",{onClick:()=>l("mastered"),className:V("p-2 rounded-lg flex items-center gap-2 text-xs font-bold transition-all border","mastered"===a?"bg-emerald-100 text-emerald-700 border-emerald-200 shadow-sm":"bg-white text-slate-500 border-transparent hover:bg-emerald-50 hover:text-emerald-600"),children:[(0,n.jsx)(C,{size:14,className:"mastered"===a?"fill-emerald-200":""})," Maîtrisé"]}),(0,n.jsxs)("button",{onClick:()=>l("revise"),className:V("p-2 rounded-lg flex items-center gap-2 text-xs font-bold transition-all border","revise"===a?"bg-amber-100 text-amber-700 border-amber-200 shadow-sm":"bg-white text-slate-500 border-transparent hover:bg-amber-50 hover:text-amber-600"),children:[(0,n.jsx)(M,{size:14,className:"revise"===a?"fill-amber-200":""})," À Réviser"]}),(0,n.jsxs)("button",{onClick:()=>l("started"),className:V("p-2 rounded-lg flex items-center gap-2 text-xs font-bold transition-all border","started"===a?"bg-blue-100 text-blue-700 border-blue-200 shadow-sm":"bg-white text-slate-500 border-transparent hover:bg-blue-50 hover:text-blue-600"),children:[(0,n.jsx)(f,{size:14,className:"started"===a?"fill-blue-200":""})," En Cours"]}),(0,n.jsxs)("button",{onClick:()=>l("locked"),className:V("p-2 rounded-lg flex items-center gap-2 text-xs font-bold transition-all border","locked"===a?"bg-slate-200 text-slate-700 border-slate-300 shadow-sm":"bg-white text-slate-500 border-transparent hover:bg-slate-100 hover:text-slate-600"),children:[(0,n.jsx)(D,{size:14,className:"locked"===a?"fill-slate-300":""})," Non Débuté"]})]})]}),(0,n.jsx)(G,{page:e}),(0,n.jsxs)("div",{className:"mb-6",children:[(0,n.jsx)("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-3",children:"Niveau de l'IA"}),(0,n.jsx)("div",{className:"flex gap-2",children:[1,2,3].map(e=>(0,n.jsxs)("button",{onClick:()=>p(e),className:V("flex-1 py-3 rounded-2xl border-2 transition-all flex flex-col items-center gap-1",m===e?"bg-primary/5 border-primary text-primary":"bg-white border-slate-100 text-slate-400 hover:border-slate-200"),children:[(0,n.jsxs)("span",{className:"text-sm font-black",children:["Niv. ",e]}),(0,n.jsxs)("span",{className:"text-[9px] uppercase font-bold text-center leading-tight",children:[1===e&&"Mémorisation",2===e&&"Tajweed Basique",3===e&&"Sheikh/Ijaza"]})]},e))}),(0,n.jsxs)("p",{className:"mt-3 text-[10px] text-slate-400 italic leading-snug",children:[1===m&&"Valide si les mots et voyelles sont là. Très indulgent.",2===m&&"Vérifie le Qalqalah et la nasalisation. Indulgence modérée.",3===m&&"Exigence maximale : prononciation et règles parfaites."]})]}),(0,n.jsxs)("div",{className:"mb-6 pt-2",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,n.jsx)("div",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider",children:"Enregistrement"}),u&&h&&(0,n.jsxs)("button",{onClick:()=>c(!1),className:"text-xs flex items-center gap-1 text-slate-400 hover:text-primary transition-colors",children:[(0,n.jsx)($,{size:14})," Cacher la page"]})]}),(0,n.jsx)(Y,{page:e,difficulty:m,onRecordingStart:()=>{d(!0),c(!1),x(null)},onRecordingStop:()=>{d(!1),c(!0)},onAnalysisComplete:e=>{x(e),v(e=>e+1),e.overall_score>=.75?l("mastered"):e.overall_score<.75&&"mastered"!==a&&l("revise")}})]}),(0,n.jsx)("div",{className:"mt-8 border-t border-slate-100 pt-8 pb-12",children:(0,n.jsx)(Q,{page:e,refreshTrigger:y})})]})]})]})]}):null}let nc=c("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),nm=c("log-in",[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]]);function np({isOpen:e,onLoginSuccess:t}){let[s,i]=(0,o.useState)("login"),[r,a]=(0,o.useState)([]),[l,u]=(0,o.useState)(""),[d,h]=(0,o.useState)(""),[c,m]=(0,o.useState)(""),[p,f]=(0,o.useState)(!1),[g,x]=(0,o.useState)(null);(0,o.useEffect)(()=>{e&&y()},[e]);let y=async()=>{try{let e=await fetch("http://localhost:8001/api/v1/users/all");if(e.ok){let t=await e.json();a(t),0===t.length?i("register"):!l&&t.length>0&&u(t[0].username)}}catch(e){console.error("Failed to fetch users",e),x("Impossible de charger les utilisateurs.")}},v=async e=>{e.preventDefault(),x(null),f(!0);try{let e=new FormData;e.append("username",l),e.append("password",c);let s=await fetch("http://localhost:8001/api/v1/auth/token",{method:"POST",body:e});if(s.ok){let e=(await s.json()).access_token,i=await fetch("http://localhost:8001/api/v1/users/me",{headers:{Authorization:`Bearer ${e}`}});if(i.ok){let s=await i.json();t(e,s)}else x("Erreur lors de la récupération du profil.")}else x("Mot de passe incorrect.")}catch(e){x("Erreur de connexion au serveur.")}finally{f(!1)}},b=async e=>{e.preventDefault(),x(null),f(!0);try{let e=await fetch("http://localhost:8001/api/v1/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:d,password:c})});if(e.ok)await y(),u(d),i("login"),m("");else{let t=await e.json();x(t.detail||"Erreur lors de la création.")}}catch(e){x("Erreur de connexion.")}finally{f(!1)}};return e?(0,n.jsx)("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-slate-900/90 backdrop-blur-sm",children:(0,n.jsxs)("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-md overflow-hidden animate-in fade-in zoom-in-95 duration-300",children:[(0,n.jsxs)("div",{className:"p-8 text-center bg-slate-50 border-b border-slate-100",children:[(0,n.jsx)("div",{className:"w-16 h-16 bg-sky-100 rounded-2xl flex items-center justify-center mx-auto mb-4 text-sky-600 shadow-sm transform -rotate-3",children:(0,n.jsx)(nc,{size:32})}),(0,n.jsx)("h2",{className:"text-2xl font-bold text-slate-800",children:"Bienvenue"}),(0,n.jsx)("p",{className:"text-slate-500 mt-1",children:"L'Immeuble du Coran"})]}),(0,n.jsx)("div",{className:"p-8",children:"login"===s?(0,n.jsxs)("form",{onSubmit:v,className:"space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-1",children:"Choisir un profil"}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("select",{value:l,onChange:e=>u(e.target.value),className:"w-full p-3 pl-10 rounded-xl border border-slate-200 bg-slate-50 focus:ring-2 focus:ring-sky-500 focus:border-sky-500 outline-none transition-all appearance-none cursor-pointer",children:r.map(e=>(0,n.jsx)("option",{value:e.username,children:e.username},e.id))}),(0,n.jsx)(nc,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-1",children:"Mot de passe"}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("input",{type:"password",value:c,onChange:e=>m(e.target.value),className:"w-full p-3 pl-10 rounded-xl border border-slate-200 bg-slate-50 focus:ring-2 focus:ring-sky-500 focus:border-sky-500 outline-none transition-all",placeholder:"Votre mot de passe",autoFocus:!0}),(0,n.jsx)(D,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18})]})]}),g&&(0,n.jsxs)("div",{className:"p-3 bg-red-50 text-red-600 text-sm rounded-lg flex items-center gap-2",children:[(0,n.jsx)(M,{size:16}),g]}),(0,n.jsxs)("button",{type:"submit",disabled:p||0===r.length,className:"w-full py-3 bg-sky-600 hover:bg-sky-700 text-white font-bold rounded-xl shadow-lg shadow-sky-500/20 transition-all active:scale-95 disabled:opacity-50 flex items-center justify-center gap-2",children:[p?(0,n.jsx)(W,{className:"animate-spin"}):(0,n.jsx)(nm,{size:20}),"Se connecter"]}),(0,n.jsxs)("button",{type:"button",onClick:()=>{i("register"),x(null)},className:"w-full py-3 text-slate-500 hover:text-sky-600 font-medium transition-colors flex items-center justify-center gap-2",children:[(0,n.jsx)(A,{size:18}),"Créer un nouveau profil"]})]}):(0,n.jsxs)("form",{onSubmit:b,className:"space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-1",children:"Nom d'utilisateur"}),(0,n.jsx)("input",{type:"text",value:d,onChange:e=>h(e.target.value),className:"w-full p-3 rounded-xl border border-slate-200 bg-slate-50 focus:ring-2 focus:ring-sky-500 focus:border-sky-500 outline-none",placeholder:"Ex: Hafiz2024",autoFocus:!0})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-1",children:"Mot de passe"}),(0,n.jsx)("input",{type:"password",value:c,onChange:e=>m(e.target.value),className:"w-full p-3 rounded-xl border border-slate-200 bg-slate-50 focus:ring-2 focus:ring-sky-500 focus:border-sky-500 outline-none",placeholder:"••••••••"})]}),g&&(0,n.jsxs)("div",{className:"p-3 bg-red-50 text-red-600 text-sm rounded-lg flex items-center gap-2",children:[(0,n.jsx)(M,{size:16}),g]}),(0,n.jsxs)("button",{type:"submit",disabled:p,className:"w-full py-3 bg-emerald-600 hover:bg-emerald-700 text-white font-bold rounded-xl shadow-lg shadow-emerald-500/20 transition-all active:scale-95 disabled:opacity-50 flex items-center justify-center gap-2",children:[p?(0,n.jsx)(W,{className:"animate-spin"}):(0,n.jsx)(A,{size:20}),"Créer le compte"]}),(0,n.jsx)("button",{type:"button",onClick:()=>{i("login"),x(null)},className:"w-full py-3 text-slate-500 hover:text-sky-600 font-medium transition-colors",children:"Retour à la connexion"})]})})]})}):null}let nf=c("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),ng=c("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),nx=c("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),ny={mastered:"#10b981",revise:"#f59e0b",started:"#60a5fa",locked:"#1e293b"};function nv({isOpen:e,onClose:t,username:s,stats:i,progress:r}){let a=(0,o.useRef)(null),[l,u]=(0,o.useState)(!1),[d,h]=(0,o.useState)(null);(0,o.useEffect)(()=>{e&&a.current&&c()},[e,s,i,r]);let c=()=>{let e=a.current;if(!e)return;e.width=1080,e.height=1080;let t=e.getContext("2d"),n=t.createLinearGradient(0,0,0,1080);n.addColorStop(0,"#0f172a"),n.addColorStop(.5,"#1e3a5f"),n.addColorStop(1,"#0f172a"),t.fillStyle=n,t.fillRect(0,0,1080,1080);let o=(e,s,i,r,a)=>{let n=t.createRadialGradient(e,s,0,e,s,i);n.addColorStop(0,r.replace(")",`, ${a})`).replace("rgb","rgba")),n.addColorStop(1,"transparent"),t.fillStyle=n,t.beginPath(),t.arc(e,s,i,0,2*Math.PI),t.fill()};o(150,200,250,"rgb(14, 165, 233)",.15),o(950,800,300,"rgb(139, 92, 246)",.12),o(540,540,400,"rgb(16, 185, 129)",.06),t.fillStyle="rgba(14,165,233,0.15)",nb(t,80,70,70,70,18),t.fill(),t.fillStyle="#38bdf8",t.font="bold 38px serif",t.textAlign="center",t.fillText("🕌",115,120),t.fillStyle="#f8fafc",t.font="bold 44px system-ui, -apple-system, sans-serif",t.textAlign="left",t.fillText("Mon Coran Building",165,110),t.fillStyle="#94a3b8",t.font="26px system-ui, sans-serif",t.fillText(`@${s}  •  ${new Date().toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})}`,165,148),t.strokeStyle="rgba(148,163,184,0.2)",t.lineWidth=1,t.beginPath(),t.moveTo(80,170),t.lineTo(1e3,170),t.stroke();let l=Math.ceil(20.133333333333333),u=920/l;for(let e=0;e<30;e++)for(let s=0;s<l;s++){let i=e*l+s+1;if(i>604)break;let a=r[i]||"locked",n=ny[a],o=80+s*u+1.5,d=195+(29-e)*14+1.5,h=u-3,c=11;t.fillStyle=n,t.globalAlpha="locked"===a?.25:.9,nb(t,o,d,h,c,3),t.fill()}t.globalAlpha=1,t.strokeStyle="rgba(148,163,184,0.3)",t.lineWidth=2,nb(t,78,193,924,424,8),t.stroke(),t.fillStyle="rgba(148,163,184,0.6)",t.font="18px system-ui",t.textAlign="left",t.fillText("Page 1",80,637),t.textAlign="right",t.fillText("Page 604",1e3,637);let d=(e,s,i,r,a)=>{t.fillStyle="rgba(255,255,255,0.06)",nb(t,e,670,260,140,20),t.fill(),t.strokeStyle="rgba(255,255,255,0.1)",t.lineWidth=1,nb(t,e,670,260,140,20),t.stroke(),t.fillStyle="#f8fafc",t.font="bold 42px system-ui",t.textAlign="left",t.fillText(i,e+22,738),t.fillStyle="#94a3b8",t.font="22px system-ui",t.fillText(s,e+22,772),t.font="32px serif",t.textAlign="right",t.fillText(a,e+242,742)};d(80,"Pages maîtrisées",`${i.mastered}`,"#10b981","📖"),d(360,"Progression",`${i.percentage.toFixed(1)}%`,"#38bdf8","📊"),d(640,"Série actuelle",`${i.streak} j.`,"#f59e0b","🔥");t.fillStyle="rgba(255,255,255,0.08)",nb(t,80,825,920,28,14),t.fill();let c=Math.max(28,i.percentage/100*920),m=t.createLinearGradient(80,0,80+c,0);m.addColorStop(0,"#10b981"),m.addColorStop(1,"#38bdf8"),t.fillStyle=m,nb(t,80,825,c,28,14),t.fill();let p=875,f=[[ny.mastered,"Maîtrisé"],[ny.revise,"À réviser"],[ny.started,"En cours"],[ny.locked,"Non débuté"]],g=80;for(let[e,s]of(t.font="20px system-ui",f))t.fillStyle=e,t.globalAlpha=e===ny.locked?.4:1,t.beginPath(),t.arc(g+10,p+10,9,0,2*Math.PI),t.fill(),t.globalAlpha=1,t.fillStyle="#94a3b8",t.textAlign="left",t.fillText(s,g+26,p+15),g+=t.measureText(s).width+60;t.fillStyle="rgba(148,163,184,0.4)",t.font="22px system-ui",t.textAlign="center",t.fillText("Généré par The Coran Building App",540,1035),h(e.toDataURL("image/png"))},m=()=>{if(!d)return;let e=document.createElement("a");e.href=d,e.download=`coran-building-${s}-${new Date().toISOString().slice(0,10)}.png`,e.click()},p=async()=>{if(a.current)try{a.current.toBlob(async e=>{e&&(await navigator.clipboard.write([new ClipboardItem({"image/png":e})]),u(!0),setTimeout(()=>u(!1),2500))})}catch{m()}},f=async()=>{a.current&&a.current.toBlob(async e=>{if(!e)return;let t=new File([e],`coran-building-${s}.png`,{type:"image/png"});navigator.canShare?.({files:[t]})?await navigator.share({files:[t],title:"Mon Coran Building",text:`J'ai ma\xeetris\xe9 ${i.mastered}/604 pages du Coran ! 📖`}):m()})};return e?(0,n.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",role:"dialog","aria-modal":"true",children:[(0,n.jsx)("div",{className:"absolute inset-0 bg-slate-900/80 backdrop-blur-sm",onClick:t}),(0,n.jsxs)("div",{className:"relative bg-white rounded-3xl shadow-2xl w-full max-w-2xl z-10 overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between px-8 py-6 border-b border-slate-100",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)("div",{className:"w-10 h-10 rounded-xl bg-sky-50 flex items-center justify-center",children:(0,n.jsx)(b,{size:20,className:"text-sky-600"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:"text-xl font-bold text-slate-800",children:"Partager ma progression"}),(0,n.jsxs)("p",{className:"text-sm text-slate-400",children:[i.mastered," pages maîtrisées sur 604"]})]})]}),(0,n.jsx)("button",{onClick:t,className:"p-2 hover:bg-slate-100 rounded-full transition-colors text-slate-400",children:(0,n.jsx)(j,{size:22})})]}),(0,n.jsxs)("div",{className:"px-8 py-6",children:[(0,n.jsx)("canvas",{ref:a,className:"hidden"}),d&&(0,n.jsx)("div",{className:"rounded-2xl overflow-hidden border border-slate-100 shadow-lg w-full",children:(0,n.jsx)("img",{src:d,alt:"Carte de progression",className:"w-full object-contain"})})]}),(0,n.jsxs)("div",{className:"px-8 pb-8 flex gap-3",children:[(0,n.jsxs)("button",{onClick:m,className:"flex-1 flex items-center justify-center gap-2 py-3.5 bg-sky-600 hover:bg-sky-700 text-white rounded-2xl font-semibold transition-all shadow-lg shadow-sky-500/25 hover:-translate-y-0.5 active:scale-95",children:[(0,n.jsx)(nf,{size:20}),"Télécharger PNG"]}),(0,n.jsxs)("button",{onClick:p,className:"flex items-center justify-center gap-2 px-6 py-3.5 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-2xl font-semibold transition-all hover:-translate-y-0.5 active:scale-95",children:[l?(0,n.jsx)(nx,{size:20,className:"text-emerald-500"}):(0,n.jsx)(ng,{size:20}),l?"Copié !":"Copier"]}),(0,n.jsxs)("button",{onClick:f,className:"flex items-center justify-center gap-2 px-6 py-3.5 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-2xl font-semibold transition-all hover:-translate-y-0.5 active:scale-95",children:[(0,n.jsx)(b,{size:20}),"Partager"]})]})]})]}):null}function nb(e,t,s,i,r,a){e.beginPath(),e.moveTo(t+a,s),e.lineTo(t+i-a,s),e.quadraticCurveTo(t+i,s,t+i,s+a),e.lineTo(t+i,s+r-a),e.quadraticCurveTo(t+i,s+r,t+i-a,s+r),e.lineTo(t+a,s+r),e.quadraticCurveTo(t,s+r,t,s+r-a),e.lineTo(t,s+a),e.quadraticCurveTo(t,s,t+a,s),e.closePath()}function nw(){let[e,t]=(0,o.useState)(null),[s,i]=(0,o.useState)({}),[r,a]=(0,o.useState)({mastered:0,total:604,percentage:0,streak:0}),[l,u]=(0,o.useState)(!1),[d,h]=(0,o.useState)(null),[c,m]=(0,o.useState)(!1);(0,o.useEffect)(()=>{p()},[]);let p=async()=>{let e=sessionStorage.getItem("access_token");if(!e)return void m(!0);try{let t={Authorization:`Bearer ${e}`},s=await fetch("http://localhost:8001/api/v1/users/me",{headers:t});if(!s.ok){sessionStorage.removeItem("access_token"),m(!0);return}let i=await s.json();h(i),await f(t,i)}catch(e){console.error("Auth check failed",e),m(!0)}},f=async(e,t)=>{try{let s=await fetch("http://localhost:8001/api/v1/users/me/progress",{headers:e}),r=s.ok?await s.json():{},n={};Object.entries(r).forEach(([e,t])=>{n[parseInt(e)]=t});let o=0;Object.values(n).forEach(e=>{"mastered"===e&&o++});let l=o/604*100;i(n),a({mastered:o,total:604,percentage:l,streak:t.daily_streak||0})}catch(e){console.error("Failed to fetch dashboard data",e)}},g=async t=>{if(e){let r={...s,[e]:t};i(r);let n=0;Object.values(r).forEach(e=>{"mastered"===e&&n++}),a(e=>({...e,mastered:n,percentage:n/604*100}));let o=sessionStorage.getItem("access_token");o&&fetch("http://localhost:8001/api/v1/users/me/progress",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify({page:e,status:t})}).catch(e=>console.error("Failed to save progress",e))}};return(0,n.jsx)(R,{stats:r,user:d,onShare:()=>u(!0),progress:s,children:(0,n.jsxs)("div",{className:"max-w-fit mx-auto px-4",children:[(0,n.jsxs)("div",{className:"flex justify-between items-end mb-8 w-full max-w-[1350px] mx-auto",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-3xl font-bold font-display text-slate-800",children:"Tableau de Bord"}),(0,n.jsx)("p",{className:"text-slate-500 mt-1",children:d?`Bienvenue, ${d.username}.`:"Suivez votre progression à travers l'immeuble coranique."})]}),(0,n.jsxs)("div",{className:"flex gap-4",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 bg-white rounded-lg shadow-sm border border-slate-100",children:[(0,n.jsx)("div",{className:"w-3 h-3 rounded-full bg-emerald-500"}),(0,n.jsx)("span",{className:"text-sm font-medium text-slate-600",children:"Maîtrisé"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 bg-white rounded-lg shadow-sm border border-slate-100",children:[(0,n.jsx)("div",{className:"w-3 h-3 rounded-full bg-amber-500 animate-pulse"}),(0,n.jsx)("span",{className:"text-sm font-medium text-slate-600",children:"À Réviser"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 bg-white rounded-lg shadow-sm border border-slate-100",children:[(0,n.jsx)("div",{className:"w-3 h-3 rounded-full bg-blue-300"}),(0,n.jsx)("span",{className:"text-sm font-medium text-slate-600",children:"En Cours"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 bg-white rounded-lg shadow-sm border border-slate-100",children:[(0,n.jsx)("div",{className:"w-3 h-3 rounded-full bg-slate-700"}),(0,n.jsx)("span",{className:"text-sm font-medium text-slate-600",children:"Non Débuté"})]})]})]}),(0,n.jsx)(_,{onPageClick:e=>{t(e)},progress:s}),e&&(0,n.jsx)(nh,{page:e,isOpen:!!e,onClose:()=>{t(null)},onNext:()=>{e&&e<604&&t(e+1)},onPrev:()=>{e&&e>1&&t(e-1)},currentStatus:s[e]||"locked",onStatusChange:g}),(0,n.jsx)(np,{isOpen:c,onLoginSuccess:(e,t)=>{sessionStorage.setItem("access_token",e),h(t),m(!1),f({Authorization:`Bearer ${e}`},t)}}),(0,n.jsx)(nv,{isOpen:l,onClose:()=>u(!1),username:d?.username||"Invité",stats:r,progress:s})]})})}e.s(["default",()=>nw],78381)}]);